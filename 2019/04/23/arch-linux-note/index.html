<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="Record my idea and technical note space.">
    

    <!--Author-->
    
        <meta name="author" content="Alan Chen">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Arch Linux Note"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="ANCS"/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>Arch Linux Note - ANCS</title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/sass/main.css">


    <!--[if lt IE 8]>
        
<script src="/js/ie/html5shiv.js"></script>

    <![endif]-->

    <!--[if lt IE 8]>
        
<link rel="stylesheet" href="/sass/ie8.css">

    <![endif]-->

    <!--[if lt IE 9]>
        
<link rel="stylesheet" href="/sass/ie9.css">

    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.4.0"></head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <div class="inner">

        <!-- Logo -->
        <a href="/" class="logo">
            <span class="symbol"><img src="/images/logo.svg" alt="" /></span><span class="title">ANCS</span>
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">Menu</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>Menu</h2>
    <ul>
        
            <li>
                <a href="/">Home</a>
            </li>
        
            <li>
                <a href="/archives">Archives</a>
            </li>
        
    </ul>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    <h1>Arch Linux Note</h1>



<!-- Gallery -->


<!-- Content -->
<p>這篇是之前想學Linux的時候所寫的筆記，想說裝一個乾淨什麼都沒有，得靠我自己的手一步步裝好的系統，當然這是折騰人的開始，但也因為有這樣裝過，才開始比較了解Linux，但還是有很多東西需要深入就是了，話說，Linux其實蠻好玩的，Arch也挺符合我這種充滿好奇心的人，可以嚐鮮。</p>
<span id="more"></span>
<h2 id="Create-Image-for-USB"><a href="#Create-Image-for-USB" class="headerlink" title="Create Image for USB"></a>Create Image for USB</h2><h3 id="for-Mac"><a href="#for-Mac" class="headerlink" title="[for Mac]"></a>[for Mac]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ diskUtil list                    //列出所有的磁碟<br>$ diskUtil unmountDisk [usbDisk]   //卸載磁碟<br></code></pre></td></tr></table></figure>
<h3 id="Live-USB"><a href="#Live-USB" class="headerlink" title="[Live USB]"></a>[Live USB]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ dd bs=4m <span class="hljs-keyword">if</span>=[isoFile] <span class="hljs-keyword">for</span>=[usbDisk]<br></code></pre></td></tr></table></figure>

<h2 id="Install-Arch-from-USB"><a href="#Install-Arch-from-USB" class="headerlink" title="Install Arch from USB"></a>Install Arch from USB</h2><h3 id="for-ASUS"><a href="#for-ASUS" class="headerlink" title="[for ASUS]"></a>[for ASUS]</h3><p>Reboot &gt; F2 &gt; EFI &gt; Boot &gt; first USB &gt; Save and Exit</p>
<h3 id="Arch-Grub-Welcome-page"><a href="#Arch-Grub-Welcome-page" class="headerlink" title="[Arch Grub Welcome page]"></a>[Arch Grub Welcome page]</h3><p>hit ‘e’ on ‘Arch install’ add ‘pci=nomsi’ and ‘modprobe.blacklist=nouveau’</p>
<h3 id="Check-boot-mode"><a href="#Check-boot-mode" class="headerlink" title="[Check boot mode]"></a>[Check boot mode]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">efivar -l         //如果為錯誤訊息則為BIOS啟動非EFI<br></code></pre></td></tr></table></figure>

<h2 id="Format-Disk"><a href="#Format-Disk" class="headerlink" title="Format Disk"></a>Format Disk</h2><h3 id="硬碟分割"><a href="#硬碟分割" class="headerlink" title="[硬碟分割]"></a>[硬碟分割]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ lsblk           //檢查目前硬碟分割情況<br>$ cgdisk /dev/sda //GPT分割表用cgdisk分割<br>    <br>BOOT:200M   -&gt; sda2 ef00<br>SWAP:24G    -&gt; sda3 8200 Linux swap<br>ROOT:50G    -&gt; sda4 8304 Linux x86-64 root<br>OPT :15G    -&gt; sda5 8300 Linux file system<br>TMP :1G     -&gt; sda6 8300 Linux file system<br>USR :50G    -&gt; sda7 8300 Linux file system<br>VAR :15G    -&gt; sda8 8300 Linux file system<br>HOME:512G   -&gt; sda9 8302 Linux /home<br>    <br>USR : Unix-Software-Resouse<br>TMP : Template<br>VAR : Varible<br><br>$ lsblk           //檢查目前硬碟分割情況<br></code></pre></td></tr></table></figure>
<h3 id="初始化分割區"><a href="#初始化分割區" class="headerlink" title="[初始化分割區]"></a>[初始化分割區]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ mkfs.vfat -F32 /dev/sda2  //EFI<br>$ mkswap /dev/sda3          //SWAP<br><br>$ mkfs.ext4 /dev/sda4<br>$ mkfs.ext4 /dev/sda5<br>$ mkfs.ext4 /dev/sda6<br>$ mkfs.ext4 /dev/sda7<br>$ mkfs.ext4 /dev/sda8<br>$ mkfs.ext4 /dev/sda9<br></code></pre></td></tr></table></figure>
<h3 id="掛載分割區"><a href="#掛載分割區" class="headerlink" title="[掛載分割區]"></a>[掛載分割區]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ mkdir /mnt/home /mnt/boot/ /mnt/boot/efi<br>$ mount /dev/sda4 /mnt                                //掛載ROOT至/mnt<br>$ mount /dev/sda9 /mnt/home                           //掛載HOME至/mnt/home<br>$ mount /dev/sda2 /mnt/boot/efi                       //(EFI)掛載BOOT至/mnt/boot/efi<br>$ mount /dev/sda2 /mnt/boot                           //(BIOS)掛載BOOT至/mnt/boot/<br>$ swapon /dev/sda3                                    //啟用SWAP<br></code></pre></td></tr></table></figure>

<h2 id="NetWork"><a href="#NetWork" class="headerlink" title="NetWork"></a>NetWork</h2><h3 id="Wireless"><a href="#Wireless" class="headerlink" title="[Wireless]"></a>[Wireless]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ wifi-menu<br></code></pre></td></tr></table></figure>
<h3 id="Wireless2"><a href="#Wireless2" class="headerlink" title="[Wireless2]"></a>[Wireless2]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ ip link                                             //顯示網路介面<br>$ ip link <span class="hljs-built_in">set</span> [interface] up                          //啟用介面<br>$ iw [interface] link                                 //確認無線裝置連線狀態<br>$ iw [interface] scan | grep SSID                     //掃描WIFI訊號，只顯示SSID<br>$ wpa_passphrase [WIFI-SSID] &gt;&gt; /tmp/wifi.conf        //連線到WPA/WPA2加密的無線網路，會等待使用者輸入密碼<br>$ cat /tmp/wifi.conf                                  //印出上面產生的檔案內容<br>$ wpa_supplicant -B -i [interface] -c /tmp/wifi.conf  //連線<br>$ iw [interface] link                                 //確認無線裝置連線狀態<br>$ dhclient wlan0                                      //要求DHCP伺服器配發動態IP<br>$ ping -c 3 8.8.8.8                                   //測試連線<br></code></pre></td></tr></table></figure>
<h3 id="Ethnet"><a href="#Ethnet" class="headerlink" title="[Ethnet]"></a>[Ethnet]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ ip link <span class="hljs-built_in">set</span> [interface] up                          //啟用介面<br>$ dhcpcd [interface]                                  //要求DHCP伺服器配發動態IP<br></code></pre></td></tr></table></figure>
<h3 id="USB-Network"><a href="#USB-Network" class="headerlink" title="[USB-Network]"></a>[USB-Network]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ ip link <span class="hljs-built_in">set</span> [interface] up<br>$ dhcpcd [interface]<br></code></pre></td></tr></table></figure>
<h2 id="Pacman-Config"><a href="#Pacman-Config" class="headerlink" title="Pacman Config"></a>Pacman Config</h2><h3 id="Pacman-Mirrorlist-config-setting"><a href="#Pacman-Mirrorlist-config-setting" class="headerlink" title="[Pacman Mirrorlist config setting]"></a>[Pacman Mirrorlist config setting]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ <span class="hljs-built_in">cd</span> /etc/pacman.d/<br>$ cp mirrorlist mirrorlist.backup                     //備份鏡像清單<br>$ rankmirrors -n 6 mirrorlist.backup &gt; mirrorlist    //讓系統測試鏡像速度，按速度排序鏡像，此步驟需要一些時間<br></code></pre></td></tr></table></figure>
<h3 id="Pacman-config-setting"><a href="#Pacman-config-setting" class="headerlink" title="[Pacman config setting]"></a>[Pacman config setting]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ cp /etc/pacman.conf /etc/pacman.conf.backup        //備份設定檔<br>$ sed -id <span class="hljs-string">&#x27;s/#Color/Color/g&#x27;</span> /etc/pacman.conf        //開啟色彩<br>$ <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;[archlinuxfr]\nSigLevel = Never\nServer = http://repo.archlinux.fr/<span class="hljs-variable">$arch</span>&quot;</span> &gt;&gt; /etc/pacman.conf  ////Pacman新增Reporsitory<br></code></pre></td></tr></table></figure>

<h2 id="Download-and-Install-base-system"><a href="#Download-and-Install-base-system" class="headerlink" title="Download and Install base system"></a>Download and Install base system</h2><h3 id="Update-pacman-repostory"><a href="#Update-pacman-repostory" class="headerlink" title="[Update pacman repostory]"></a>[Update pacman repostory]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacman -Syy<br></code></pre></td></tr></table></figure>
<h3 id="Install-packages"><a href="#Install-packages" class="headerlink" title="[Install packages]"></a>[Install packages]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacstrap /mnt base base-devel<br>$ pacstrap /mnt intel-ucode<br>$ pacstrap /mnt zsh gvim rsync htop wget git openssh networkmanager dialog iw dhclient wpa_supplicant<br>$ pacstrap /mnt pythod yaourt noto-fonts noto-fonts-cjk<br></code></pre></td></tr></table></figure>
<h3 id="System-config-setting"><a href="#System-config-setting" class="headerlink" title="[System config setting]"></a>[System config setting]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ genfstab -U /mnt | sed -e <span class="hljs-string">&#x27;s/relatime/noatime/g&#x27;</span> &gt;&gt; /mnt/etc/fstab   //開機時的設定檔，開機時會依這個檔案的內容掛載檔案系統。<br>$ blkid                                                                //顯示各磁碟資訊<br>$ vim /mnt/etc/fstab                                                   //確認UUID是否正確（和 blkid 比對）<br>```sh<br><br><span class="hljs-comment">### [Into System]</span><br>```sh<br>$ arch-chroot /mnt /bin/bash<br></code></pre></td></tr></table></figure>
<h3 id="Language"><a href="#Language" class="headerlink" title="[Language]"></a>[Language]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sed -i -e <span class="hljs-string">&#x27;s/^#\(en_US\|zh_TW\)\(\.UTF-8\)/\1\2/g&#x27;</span> /etc/locale.gen     //en_US.UTF-8 和 zh_TW.UTF-8 的註解拿掉<br>$ locale-gen<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;LANG=en_US.UTF-8&quot;</span> &gt; /etc/locale.conf<br></code></pre></td></tr></table></figure>

<h3 id="Date-and-Time"><a href="#Date-and-Time" class="headerlink" title="[Date and Time]"></a>[Date and Time]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ <span class="hljs-built_in">export</span> TIMEZONE=Asia/Taipei<br>$ ln -sf /usr/share/zoneinfo/<span class="hljs-variable">$&#123;TIMEZONE&#125;</span> /etc/localtime<br>$ hwclock --systohc<br>$ systemctl <span class="hljs-built_in">enable</span> systemd-timesyncd<br></code></pre></td></tr></table></figure>

<h3 id="Computer-name"><a href="#Computer-name" class="headerlink" title="[Computer name]"></a>[Computer name]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ <span class="hljs-built_in">export</span> HOSTNAME=&lt;hostname&gt;<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$HOSTNAME</span> &gt; /etc/hostname<br>$ sed -ie <span class="hljs-string">&quot;8i 127.0.1.1\t<span class="hljs-variable">$HOSTNAME</span>.localdomain\t<span class="hljs-variable">$HOSTNAME</span>&quot;</span> /etc/hosts<br></code></pre></td></tr></table></figure>
<h3 id="Auto-Service-controller-（systemctl）"><a href="#Auto-Service-controller-（systemctl）" class="headerlink" title="[Auto Service controller]（systemctl）"></a>[Auto Service controller]（systemctl）</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ systemctl <span class="hljs-built_in">enable</span> fstrim.timer                                         //有SSD才需要，啟用每週執行 fstrim<br>$ systemctl <span class="hljs-built_in">enable</span> dhcpcd                                               //啟動dhcp網路<br>$ systemctl <span class="hljs-built_in">enable</span> NetworkManager<br>$ systemctl start NetworkManager<br></code></pre></td></tr></table></figure>
<h3 id="建立開機映像"><a href="#建立開機映像" class="headerlink" title="[建立開機映像]"></a>[建立開機映像]</h3><p>Creates an initial ramdisk environment for booting the linux kernel</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ vim /etc/mkinitcpio.conf                                              //(optional) 看有沒有要修改<br>$ mkinitcpio -p linux<br></code></pre></td></tr></table></figure>

<p>以下有常用的開機模式為GRUB和rEFind</p>
<h3 id="GRUB"><a href="#GRUB" class="headerlink" title="[GRUB]"></a>[GRUB]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacman -S grub os-prober efibootmgr<br>$ grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=arch --recheck<br>$ grub-mkconfig -o /boot/grub/grub.cfg                                  //建立grub開機設定檔<br></code></pre></td></tr></table></figure>

<h3 id="rEFind"><a href="#rEFind" class="headerlink" title="[rEFind]"></a>[rEFind]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacman -S refind-efi<br>$ refind-install<br>$ blkid | grep ROOT                                                       //將UUID記錄下來<br>$ vim /boot/refind_linux.conf                                             //設定配置文件/boot/refind_linux.conf内核参数<br>refind_linux.conf<br><br><span class="hljs-string">&quot;Boot with standard options&quot;</span>  <span class="hljs-string">&quot;root=UUID=&lt;your uuid of root partition&gt; rw quiet acpi_rev_override=1 initrd=/boot/initramfs-linux.img initrd=/boot/intel-ucode.img enable_psr=1 disable_power_well=0 nvme_core.default_ps_max_latency_us=130000&quot;</span><br><span class="hljs-string">&quot;Boot to single-user mode&quot;</span>    <span class="hljs-string">&quot;root=UUID=&lt;your uuid of root partition&gt; rw quiet acpi_rev_override=1 single&quot;</span><br><span class="hljs-string">&quot;Boot with minimal options&quot;</span>   <span class="hljs-string">&quot;ro root=/dev/&lt;your root partition name&gt;&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Create-User"><a href="#Create-User" class="headerlink" title="[Create User]"></a>[Create User]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sed -ie <span class="hljs-string">&#x27;s/# \(%wheel ALL=(ALL) ALL\)/\1/&#x27;</span> /etc/sudoers<br>$ <span class="hljs-built_in">export</span> USERNAME=&lt;username&gt;<br>$ useradd -mG wheel,storage,power,video,audio <span class="hljs-variable">$USERNAME</span> //加上 -m 參數才會建立使用者家目錄以及 .bash 相關檔案<br>$ passwd <span class="hljs-variable">$USERNAME</span> <span class="hljs-comment"># 設定密碼</span><br>$ <span class="hljs-built_in">exit</span><br>$ umount -R /mnt<br>$ reboot<br></code></pre></td></tr></table></figure>

<p>雙系統直接進windows的話，請在windows下使用easyuefi禁用windows boot manager</p>
<h3 id="GUI-Desktop-Categories"><a href="#GUI-Desktop-Categories" class="headerlink" title="GUI-Desktop Categories"></a>GUI-Desktop Categories</h3><ul>
<li>Gnome</li>
<li>KDE</li>
<li>XFCE</li>
<li>…</li>
</ul>
<h2 id="Install-GUI-Desktop-Gnome"><a href="#Install-GUI-Desktop-Gnome" class="headerlink" title="[Install GUI Desktop-Gnome]"></a>[Install GUI Desktop-Gnome]</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S gnome<br></code></pre></td></tr></table></figure>

<h4 id="Gnome-extra"><a href="#Gnome-extra" class="headerlink" title="[Gnome-extra]"></a>[Gnome-extra]</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S atomix dconf-editor devhelp gnome-nettool gnome-weather gnome-builder gnome-chess gnome-usage gnome-tweaks gnome-recipes quadrapassel sysprof vinagre<br>$ sudo pacman -Rsc epiphany gdm gedit gnome-documents gnome-music gnome-screenshot gnome-terminal sushi<br><br><br>$ sudo pacman -S xorg-xinit xorg-server xorg-xclock xterm xorg-twm<br>$ sudo vim /etc/X11/xinit/xinitrc<br></code></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># /etc/X11/xinit/xinitrc </span><br><span class="hljs-comment"># 註解以下內容</span><br><br>    <span class="hljs-comment">#twm &amp;</span><br>    <span class="hljs-comment">#xclock -geometry 50x50-1+1 &amp;</span><br>    <span class="hljs-comment">#xterm -geometry 80x50+494+51 &amp;</span><br>    <span class="hljs-comment">#xterm -geometry 80x20+494-0 &amp;</span><br>    <span class="hljs-comment">#exec xterm -geometry 80x66+0+0 -name login</span><br>    <br>    <span class="hljs-built_in">exec</span> gnome-session                                                      //如果你使用的是gnome桌面，添加上這行<br></code></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ cp /etc/X11/xinit/xinitrc ~/.xinitrc           //可以使用別的身份登入，為用户複製一份單獨的配置文件，開啟個別的桌面系統<br>$ startx<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="Install-Desktop-Manager"><a href="#Install-Desktop-Manager" class="headerlink" title="[Install Desktop Manager]"></a>[Install Desktop Manager]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacman -S gdm<br>$ sed -ie <span class="hljs-string">&#x27;s/#\(WaylandEnable\)/\1/&#x27;</span> /etc/gdm/custom.conf<br></code></pre></td></tr></table></figure>
<h3 id="Automatically-Open"><a href="#Automatically-Open" class="headerlink" title="[Automatically Open]"></a>[Automatically Open]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ systemctl <span class="hljs-built_in">enable</span> gdm                                                  //設定gdm開機自動啟動載入gnome桌面<br></code></pre></td></tr></table></figure>
<h3 id="Manually-Open"><a href="#Manually-Open" class="headerlink" title="[Manually Open]"></a>[Manually Open]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ systemctl start gdm                                                   //手動開啟gdm<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="安裝完系統後其餘設定"><a href="#安裝完系統後其餘設定" class="headerlink" title="安裝完系統後其餘設定"></a>安裝完系統後其餘設定</h2><h3 id="Init-Home-folder"><a href="#Init-Home-folder" class="headerlink" title="[Init Home folder]"></a>[Init Home folder]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ LC_ALL=C xdg-user-dirs-update                                        //Force create english name folder<br></code></pre></td></tr></table></figure>
<h3 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="[Oh My Zsh]"></a>[Oh My Zsh]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sh -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure>
<h3 id="Git-Clone-Setting"><a href="#Git-Clone-Setting" class="headerlink" title="[Git Clone Setting]"></a>[Git Clone Setting]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ <span class="hljs-built_in">cd</span> ~/Documents<br>$ git <span class="hljs-built_in">clone</span> http://github.com/t0239184/archLinuxNote.git<br></code></pre></td></tr></table></figure>

<h3 id="YAOURT-PackageManager"><a href="#YAOURT-PackageManager" class="headerlink" title="[YAOURT-PackageManager]"></a>[YAOURT-PackageManager]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S --needed base-devel git wget yajl<br>$ <span class="hljs-built_in">cd</span> /tmp<br>$ git <span class="hljs-built_in">clone</span> https://aur.archlinux.org/package-query.git<br>$ <span class="hljs-built_in">cd</span> package-query/<br>$ makepkg -si &amp;&amp; <span class="hljs-built_in">cd</span> /tmp/<br>$ git <span class="hljs-built_in">clone</span> https://aur.archlinux.org/yaourt.git<br>$ <span class="hljs-built_in">cd</span> yaourt/<br>$ makepkg -si<br></code></pre></td></tr></table></figure>
<h3 id="Terminal"><a href="#Terminal" class="headerlink" title="[Terminal]"></a>[Terminal]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S roxterm<br></code></pre></td></tr></table></figure>
<h3 id="FileSystem-Support"><a href="#FileSystem-Support" class="headerlink" title="[FileSystem Support]"></a>[FileSystem Support]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ pacman -S ntfs-3g dosfstools                                           //Support NTFS and Exfat fileSystem<br>```    <br><span class="hljs-comment">### [Change Folder name to Englist]</span><br>```sh<br>$ sudo vim .config/user-dirs.dirs<br></code></pre></td></tr></table></figure>
<h3 id="Gnome-Theme"><a href="#Gnome-Theme" class="headerlink" title="[Gnome-Theme]"></a>[Gnome-Theme]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S x-arc-darker<br>$ yaourt -S x-arc-shadow<br>$ yaourt -S papirus-icon-theme<br></code></pre></td></tr></table></figure>
<h3 id="Gnome-Shell-Theme"><a href="#Gnome-Shell-Theme" class="headerlink" title="[Gnome-Shell-Theme]"></a>[Gnome-Shell-Theme]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S gnome-shell-theme-macos-mojave<br></code></pre></td></tr></table></figure>

<h3 id="Gnome-extend-from-yaourt"><a href="#Gnome-extend-from-yaourt" class="headerlink" title="[Gnome-extend from yaourt]"></a>[Gnome-extend from yaourt]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S gnome-shell-extension-dash-to-dock<br>$ yaourt -S gnome-shell-extension-arc-menu-git<br>$ yaourt -S gnome-shell-extension-cpufreq-git<br></code></pre></td></tr></table></figure>

<h3 id="Gnome-extend-from-gnome-store"><a href="#Gnome-extend-from-gnome-store" class="headerlink" title="[Gnome-extend from gnome-store]"></a>[Gnome-extend from gnome-store]</h3><ul>
<li>alternatetab</li>
<li>custom hot corners</li>
<li>extend panel menu</li>
<li>removeable drive menu</li>
<li>user themes</li>
<li>workspace indicator</li>
<li>net speed</li>
</ul>
<h3 id="Font"><a href="#Font" class="headerlink" title="[Font]"></a>[Font]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S ttf-droid              //Window Font<br>$ yaourt -S ttf-ubuntu-font-family  //Terminal Font<br></code></pre></td></tr></table></figure>

<h3 id="InputMethod"><a href="#InputMethod" class="headerlink" title="[InputMethod]"></a>[InputMethod]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S gcin<br>$ vim ~/.xinitrc<br></code></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># ~/.xinitrc</span><br><span class="hljs-built_in">export</span> LANG=<span class="hljs-string">&quot;zh_TW.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> LC_CTYPE=<span class="hljs-string">&quot;zh_TW.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> XMODIFIERS=@im=gcin<br><span class="hljs-built_in">export</span> GTK_IM_MODULE=<span class="hljs-string">&quot;gcin&quot;</span><br><span class="hljs-built_in">export</span> QT_IM_MODULE=<span class="hljs-string">&quot;gcin&quot;</span><br>gcin &amp;<br></code></pre></td></tr></table></figure>

<h3 id="InputMethod-1"><a href="#InputMethod-1" class="headerlink" title="[InputMethod]"></a>[InputMethod]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S ibus-rime<br><br><span class="hljs-comment"># ~/.xinitrc</span><br><span class="hljs-built_in">export</span> LANG=<span class="hljs-string">&quot;zh_TW.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> LC_CTYPE=<span class="hljs-string">&quot;zh_TW.UTF-8&quot;</span><br><span class="hljs-built_in">export</span> XMODIFIERS=@im=<span class="hljs-string">&quot;ibus&quot;</span><br><span class="hljs-built_in">export</span> GTK_IM_MODULE=<span class="hljs-string">&quot;ibus&quot;</span><br><span class="hljs-built_in">export</span> QT_IM_MODULE=<span class="hljs-string">&quot;ibus&quot;</span><br>ibus &amp;<br></code></pre></td></tr></table></figure>

<h3 id="Space-preview"><a href="#Space-preview" class="headerlink" title="[Space preview]"></a>[Space preview]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S sushi<br></code></pre></td></tr></table></figure>

<h3 id="Office"><a href="#Office" class="headerlink" title="[Office]"></a>[Office]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S wps-office<br></code></pre></td></tr></table></figure>
<h3 id="Enable-audio"><a href="#Enable-audio" class="headerlink" title="[Enable audio]"></a>[Enable audio]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S alsa-utils<br>$ alsamixer<br>master hit M<br></code></pre></td></tr></table></figure>
<h3 id="Music-Player"><a href="#Music-Player" class="headerlink" title="[Music-Player]"></a>[Music-Player]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S audacious<br></code></pre></td></tr></table></figure>
<h3 id="Video-Player"><a href="#Video-Player" class="headerlink" title="[Video-Player]"></a>[Video-Player]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S vlc<br></code></pre></td></tr></table></figure>
<h3 id="Youtube-Download-tool"><a href="#Youtube-Download-tool" class="headerlink" title="[Youtube Download tool]"></a>[Youtube Download tool]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S youtube-dl<br></code></pre></td></tr></table></figure>
<h3 id="Terminal-Screen-split"><a href="#Terminal-Screen-split" class="headerlink" title="[Terminal Screen split]"></a>[Terminal Screen split]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S screen<br></code></pre></td></tr></table></figure>
<h3 id="監控網路流量"><a href="#監控網路流量" class="headerlink" title="[監控網路流量]"></a>[監控網路流量]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S iftop<br></code></pre></td></tr></table></figure>
<h2 id="Develop-Enviroment"><a href="#Develop-Enviroment" class="headerlink" title="Develop Enviroment"></a>Develop Enviroment</h2><h3 id="Java"><a href="#Java" class="headerlink" title="[Java]"></a>[Java]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S jdk8-openjdk<br>$ <span class="hljs-built_in">cd</span> /bin &amp;&amp; ll | grep java   //Check java folder real path<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-built_in">export</span> JAVA_HOME=\&quot;/usr/lib/jvm/default-runtime\&quot; &gt;&gt; ~/.zshrc<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-built_in">export</span> PATH=\&quot;<span class="hljs-string">&#x27;$JAVA_HOME/bin/:$PATH&#x27;</span>\&quot;<br>$ <span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>
<h3 id="Change-JDK-Version"><a href="#Change-JDK-Version" class="headerlink" title="[Change JDK Version]"></a>[Change JDK Version]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ archlinux-java status<br><br>Available Java environments:<br>  java-10-openjdk<br>  java-8-openjdk (default)<br></code></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ archlinux-java get<br>$ archlinux-java <span class="hljs-built_in">set</span> &lt;JDK version&gt;<br></code></pre></td></tr></table></figure>

<h3 id="Maven"><a href="#Maven" class="headerlink" title="[Maven]"></a>[Maven]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S maven<br>$ <span class="hljs-built_in">cd</span> /bin &amp;&amp; ll | grep mvn   //Check maven folder real path<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-built_in">export</span> MAVEN_HOME=\&quot;/opt/maven\&quot; &gt;&gt; ~/.zshrc<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-built_in">export</span> PATH=\&quot;<span class="hljs-string">&#x27;$MAVEN_HOME/bin/:$PATH&#x27;</span>\&quot;<br>$ <span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure>

<h3 id="JetBrain"><a href="#JetBrain" class="headerlink" title="[JetBrain]"></a>[JetBrain]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S intellij-idea-ultimate-edition //Java ide<br></code></pre></td></tr></table></figure>

<h2 id="jRebel-Crack"><a href="#jRebel-Crack" class="headerlink" title="jRebel Crack"></a>jRebel Crack</h2><p><a target="_blank" rel="noopener" href="https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4">https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4</a></p>
<p>Download:<br>Mac    &gt; ReverseProxy_darwin_amd64<br>Linux  &gt; </p>
<p>1.執行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ chmod 777 ReverseProxy_darwin_amd64<br>$ ./ReverseProxy_darwin_amd64<br></code></pre></td></tr></table></figure>

<p>2.idea setting<br>Open idea Setting &gt; jRebel  choise Licence option</p>
<p>“<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/xin&quot;">http://127.0.0.1:8080/xin&quot;</a>        //port號後隨意填<br>“<a href="mailto:&#97;&#97;&#97;&#x40;&#x61;&#97;&#97;&#46;&#99;&#x6f;&#109;">&#97;&#97;&#97;&#x40;&#x61;&#97;&#97;&#46;&#99;&#x6f;&#109;</a>“                      //只要填入合格mail格式即可</p>
<h3 id="Don’t-close-terminal"><a href="#Don’t-close-terminal" class="headerlink" title="Don’t close terminal"></a>Don’t close terminal</h3><p>3.switch work offline<br>如果之後到期後再執行一次整個流程</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8ce60dd452f4">https://www.jianshu.com/p/8ce60dd452f4</a></p>
<h3 id="DataGrip"><a href="#DataGrip" class="headerlink" title="[DataGrip]"></a>[DataGrip]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S datagrip                    //DataBase ide<br></code></pre></td></tr></table></figure>

<h3 id="JetBrain-Creck"><a href="#JetBrain-Creck" class="headerlink" title="[JetBrain Creck]"></a>[JetBrain Creck]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo vim /etc/hosts<br></code></pre></td></tr></table></figure>



<h2 id="Graphy-Card"><a href="#Graphy-Card" class="headerlink" title="Graphy Card"></a>Graphy Card</h2><h3 id="Arch-Disable-Nvidia"><a href="#Arch-Disable-Nvidia" class="headerlink" title="[Arch Disable Nvidia]"></a>[Arch Disable Nvidia]</h3><p>bbswitch can help you to disable Nvidia(PowerOff), First need install bbswitch</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S bbswitch dkms bumblebee<br>$ sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;bbswitch&quot;</span> &gt;&gt; /etc/modules-load.d/modules.conf                  //run bbswitch of system load module<br>$ sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;options bbswitch load_state=0&quot;</span> &gt;&gt; /etc/modprobe.d/bbswitch.conf //<span class="hljs-built_in">set</span> <span class="hljs-built_in">disable</span> nouveau option of system load module<br>$ sudo <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;blacklist nouveau&quot;</span> &gt;&gt; /etc/modprobe.d/nouveau_blacklist.conf    //<span class="hljs-built_in">set</span> nouveau to blacklist<br>$ mkinitcpio -p linux                                                  //rebuild initrd<br>$ reboot<br>$ lspci | grep NVIDIA            //<span class="hljs-keyword">if</span> Nvidia status show (rev ff), is sucesses!!<br></code></pre></td></tr></table></figure>

<h2 id="Touchpad-config"><a href="#Touchpad-config" class="headerlink" title="[Touchpad config]"></a>[Touchpad config]</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ xinput list                                      //show all input drive, and search you touchpad<br>$ xinput list-props [driveId]                       //input your touchpad Id<br><br><br>Device <span class="hljs-string">&#x27;SynPS/2 Synaptics TouchPad&#x27;</span>:<br>      Device Enabled (139):   1<br>      Coordinate Transformation Matrix (141): 1.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 1.000000<br>      libinput Tapping Enabled (274): 0<br>      libinput Tapping Enabled Default (275): 0<br>      libinput Tapping Drag Enabled (276):    1<br>      ...<br></code></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ xinput set-prop 12[driveId] 274[propertiesId] 1[value]<br>or<br>$ xinput set-prop --<span class="hljs-built_in">type</span>=int --format=8 <span class="hljs-string">&quot;SynPS/2 Synaptics TouchPad&quot;</span> <span class="hljs-string">&quot;libinput Tapping Enabled&quot;</span> 1<br></code></pre></td></tr></table></figure>

<h3 id="TouchPad-multiple-config"><a href="#TouchPad-multiple-config" class="headerlink" title="[TouchPad multiple config]"></a>[TouchPad multiple config]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S xf86-input-libinput<br>$ cp /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf.d/30-touchpad.conf  //Setting touchpad, <span class="hljs-string">&quot;/usr/share&quot;</span> is default config, <span class="hljs-string">&quot;/etc/&quot;</span> is user custom config<br>$ sudo vim /etc/X11/xorg.conf.d/30-touchpad.conf<br><br><span class="hljs-comment"># 30-touchpad.conf</span><br>Section <span class="hljs-string">&quot;InputClass&quot;</span><br>        Identifier <span class="hljs-string">&quot;libinput touchpad catchall&quot;</span><br>        MatchIsTouchpad <span class="hljs-string">&quot;on&quot;</span><br>        MatchDevicePath <span class="hljs-string">&quot;/dev/input/event*&quot;</span><br>        Driver <span class="hljs-string">&quot;libinput&quot;</span><br>        Option <span class="hljs-string">&quot;Tapping&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>        Option <span class="hljs-string">&quot;TapButton1&quot;</span> <span class="hljs-string">&quot;1&quot;</span><br>        Option <span class="hljs-string">&quot;TapButton2&quot;</span> <span class="hljs-string">&quot;3&quot;</span><br>        Option <span class="hljs-string">&quot;TapButton3&quot;</span> <span class="hljs-string">&quot;2&quot;</span><br>        Option <span class="hljs-string">&quot;VertEdgeScroll&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>        Option <span class="hljs-string">&quot;VertTwoFingerScroll&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>        Option <span class="hljs-string">&quot;HorizEdgeScroll&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>        Option <span class="hljs-string">&quot;HorizTwoFingerScroll&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>        Option <span class="hljs-string">&quot;NaturalScrolling&quot;</span> <span class="hljs-string">&quot;on&quot;</span><br>EndSection<br></code></pre></td></tr></table></figure>
<blockquote>
<p>參考: <a target="_blank" rel="noopener" href="https://itw01.com/MSCQE8K.html">https://itw01.com/MSCQE8K.html</a></p>
</blockquote>
<h3 id="Show-System-temp"><a href="#Show-System-temp" class="headerlink" title="[Show System temp]"></a>[Show System temp]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S psensor<br></code></pre></td></tr></table></figure>


<h3 id="Quick-lancer"><a href="#Quick-lancer" class="headerlink" title="[Quick lancer]"></a>[Quick lancer]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S albert<br></code></pre></td></tr></table></figure>
<h3 id="Run-Windows-exe-file"><a href="#Run-Windows-exe-file" class="headerlink" title="[Run Windows exe file]"></a>[Run Windows exe file]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S wine<br></code></pre></td></tr></table></figure>

<h2 id="System-Setting"><a href="#System-Setting" class="headerlink" title="System Setting"></a>System Setting</h2><h3 id="SATA-enable-AHCI-mode"><a href="#SATA-enable-AHCI-mode" class="headerlink" title="[SATA enable AHCI mode]"></a>[SATA enable AHCI mode]</h3><p>SATA-MODE：IDE(Default) or AHCI<br>now, Linux and Windows supported AHCI<br>Native AHCI mode 提供更好的性能（如热插拔和 NCQ 支持）、模拟的 IDE 模式提供更好的兼容性。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo vim /etc/mkinitcpio.conf<br><br><span class="hljs-comment"># mkinitcpio.conf</span><br>MODULES=<span class="hljs-string">&quot;ahci&quot;</span><br><br><br>$ mkinitcpio -p linux                             //rebuild<br>$ dmesg                                          //<span class="hljs-keyword">if</span> find <span class="hljs-string">&#x27;AHCI&#x27;</span> and <span class="hljs-string">&#x27;NCQ&#x27;</span> <span class="hljs-keyword">then</span> susscess<br><br>...<br>SCSI subsystem initialized<br>libata version 3.00 loaded.<br>ahci 0000:00:1f.2: version 3.0<br>ahci 0000:00:1f.2: irq 24 <span class="hljs-keyword">for</span> MSI/MSI-X<br>ahci 0000:00:1f.2: AHCI 0001.0300 32 slots 6 ports 6 Gbps 0x10 impl SATA mode<br>ahci 0000:00:1f.2: flags: 64bit ncq led clo pio slum part ems apst<br>scsi host0: ahci<br>scsi host1: ahci<br>scsi host2: ahci<br>scsi host3: ahci<br>scsi host4: ahci<br>scsi host5: ahci<br>...<br>ata5.00: 976773168 sectors, multi 16: LBA48 NCQ (depth 31/32), AA<br>...<br></code></pre></td></tr></table></figure>
<h3 id="Power-Manager"><a href="#Power-Manager" class="headerlink" title="[Power-Manager]"></a>[Power-Manager]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo pacman -S tlp tlp-rdw<br>$ sudo vim /etc/default/tlp       //custom your setting<br>$ sudo tlp <span class="hljs-built_in">stat</span><br>$ sudo systemctl <span class="hljs-built_in">enable</span> tlp.service<br></code></pre></td></tr></table></figure>


<h3 id="GitHub"><a href="#GitHub" class="headerlink" title="[GitHub]"></a>[GitHub]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ git config --global user.name <span class="hljs-string">&quot;username&quot;</span><br>$ git config --global user.email <span class="hljs-string">&quot;username@example.com&quot;</span><br>$ sudo pacman -S openssh<br>$ ssh-keygen -t rsa -b 4096 -C <span class="hljs-string">&quot;your_email@example.com&quot;</span>      //General SSH key<br>$ ssh-agent -s                                           //Check ssh-agent can run<br>$ ssh-add ~/.ssh/id_rsa                                   //Add SSH key：<br>1.Copy ~/.ssh/id_rsa.pub Text<br>2.GitHub &gt; Settings &gt; Personal settings &gt; SSH Keys &gt; Add key &gt; Paste key<br></code></pre></td></tr></table></figure>

<h3 id="Git-GUI"><a href="#Git-GUI" class="headerlink" title="[Git GUI]"></a>[Git GUI]</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ yaourt -S smartgit<br>$ yaourt -S gitkaraken<br></code></pre></td></tr></table></figure>

<h3 id="FireFox-plugin"><a href="#FireFox-plugin" class="headerlink" title="[FireFox plugin]"></a>[FireFox plugin]</h3><ul>
<li>Vimium                     //vim key Mapping</li>
<li>Tree Style Tab             //vertical tab manager</li>
<li>Video Download Helper      //video download</li>
<li>Adblock plus               //anywhere block ad</li>
</ul>
<h3 id="Arch-use-bbswitch彻底禁用双显卡笔记本的独立显卡"><a href="#Arch-use-bbswitch彻底禁用双显卡笔记本的独立显卡" class="headerlink" title="[Arch use bbswitch彻底禁用双显卡笔记本的独立显卡]"></a>[Arch use bbswitch彻底禁用双显卡笔记本的独立显卡]</h3><blockquote>
<p>參考:  <a target="_blank" rel="noopener" href="https://xuchen.wang/archives/archbbswitch.html">https://xuchen.wang/archives/archbbswitch.html</a></p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ modprobe bbswitch<br>$ rmmod bbswitch  //bbswitch模块卸载<br>$ cat /proc/acpi/bbswitch //查看其独立显卡运行状态。<br>$ tee /proc/acpi/bbswitch \&lt;\&lt;\&lt;\ OFF //关闭/开启独立显卡的指令为<br>$ tee /proc/acpi/bbswitch \&lt;\&lt;\&lt;\ ON  //关闭/开启独立显卡的指令为<br></code></pre></td></tr></table></figure>

<p>if exec OFF but status is ON, Maybe Nvidia card not close yet</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ dmesg | tail -1<br><br>bbswitch: device 0000:01:00.0 is <span class="hljs-keyword">in</span> use by driver <span class="hljs-string">&#x27;nouveau&#x27;</span>, refusing OFF<br></code></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ rmmod nouveau                                         //驱动nouveau模块卸载<br></code></pre></td></tr></table></figure>
<p>First，bbswitch has two parameter，load_state and unload_state</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ modprobe bbswitch load_state=0                         //加载时使用<br>$ <span class="hljs-built_in">echo</span> 1 | tee /sys/module/bbswitch/parameters/unload_state //卸载时使用<br>$ modprobe bbswitch load_state=0 unload_state=1<br>$ sudo touch /etc/modprobe.d/bbswitch.conf &amp;&amp; sudo vim /etc/modprobe.d/bbswitch.conf<br><br><span class="hljs-comment"># /etc/init/bbswitch.conf</span><br>description <span class="hljs-string">&quot;Save power by disabling nvidia on Optimus&quot;</span><br>author <span class="hljs-string">&quot;Lekensteyn &lt;lekensteyn@gmail.com&gt;&quot;</span><br>start on runlevel [2345]<br>stop on runlevel [016]<br>pre-start <span class="hljs-built_in">exec</span> /sbin/modprobe bbswitch load_state=0 unload_state=1<br>pre-stop <span class="hljs-built_in">exec</span> /sbin/rmmod bbswitch<br></code></pre></td></tr></table></figure>

<p>Arch Linux use ‘systemd’, so we create new service enable Nvidia at before shotdown</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo touch /etc/systemd/system/poweroff-enable-nvidia.service<br>$ sudo vim /etc/systemd/system/poweroff-enable-nvidia.service<br><br><span class="hljs-comment"># poweroff-enable-nvidia.service</span><br><br>[Unit]<br>Description=Enable NVIDIA card when poweroff<br>DefaultDependencies=no<br><br>[Service]<br>Type=oneshot<br>ExecStart=/bin/sh -c <span class="hljs-string">&#x27;echo ON &gt; /proc/acpi/bbswitch&#x27;</span><br><br>[Install]<br>WantedBy=shutdown.target<br></code></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ systemctl <span class="hljs-built_in">enable</span> --now             //<span class="hljs-built_in">enable</span> bbswitch service<br>$ sudo touch /etc/modules-load.d/bbswitch.conf<br>$ sudo vim /etc/modules-load.d/bbswitch.conf<br><br><span class="hljs-comment"># /etc/modules-load.d/bbswitch.conf</span><br><br><span class="hljs-comment"># Load bbswitch at boot</span><br>bbswitch<br></code></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ sudo touch /etc/modprobe.d/blacklist.conf<br>$ sudo vim /etc/modprobe.d/blacklist.conf<br><br><span class="hljs-comment"># /etc/modprobe.d/blacklist.conf</span><br>blacklist nouveau<br></code></pre></td></tr></table></figure>
<hr>
<h2 id="ERROR-MESSAGE"><a href="#ERROR-MESSAGE" class="headerlink" title="ERROR MESSAGE"></a>ERROR MESSAGE</h2><ul>
<li>裝機案例：ASUS X550V</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：解決lspci timeout error</strong></p>
</li>
<li><p>錯誤訊息：lspci timeout</p>
</li>
<li><p>解決方法：</p>
<blockquote>
<p>Disable Nvidia driver : Choosing arch from the ISO boot menu hit ‘e’ and add ‘modprobe.blacklist=nouveau’ to the kernal parameters</p>
</blockquote>
</li>
<li><p>參考相關：</p>
<blockquote>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://gccpacman.com/2015/11/07/replace-nvidia-driver-with-nouveau-driver-arch-linux">http://gccpacman.com/2015/11/07/replace-nvidia-driver-with-nouveau-driver-arch-linux</a><br><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/">https://wiki.archlinux.org/index.php/</a></p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：pcieport / RTL8821AE錯誤</strong></p>
</li>
<li><p>錯誤訊息：error msg loop</p>
<blockquote>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">00:1c.5 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port <span class="hljs-comment">#6 (rev f1) (prog-if 00 [Normal decode])</span><br>Flags: bus master, fast devsel, latency 0, IRQ 124<br>Bus: primary=00, secondary=03, subordinate=03, sec-latency=0<br></code></pre></td></tr></table></figure></li>
<li><p>解決方法：Choosing arch from the ISO boot menu hit ‘e’ and add ‘pci=nomsi’ to the kernal parameters</p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：開機時有出現一行錯誤訊息</strong></p>
</li>
<li><p>錯誤訊息：Failed to start Load Kernel Modules</p>
<blockquote>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">$ systemctl status systemd-modules-load.service<br>...<br>Failed to find module <span class="hljs-string">&#x27;option bbswitch load_state=0&#x27;</span><br>...<br></code></pre></td></tr></table></figure>
<blockquote>
</blockquote>
</li>
</ul>


<!-- Tags -->



<div class="tags">
    <a href="/tags/Arch-Linux/" class="button small">Arch Linux</a>
</div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>留言:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <h2>About</h2>
            <div>
                This theme was initially developed by <a href="http://html5up.net" target="_blank">HTML5 UP</a>. It is adapted for Hexo by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a>.<br />The source code is available on <a href="https://github.com/klugjo/hexo-theme-phantom" target="_blank">GitHub</a>.
            </div>
        </section>
        <section>
            <h2>Follow</h2>
            <ul class="icons">
                
                    <li><a href="https://twitter.com/?lang=en" class="icon style2 fa-twitter" target="_blank" ><span class="label">Twitter</span></a></li>
                
                
                    <li><a href="https://www.facebook.com/" class="icon style2 fa-facebook" target="_blank" ><span class="label">Facebook</span></a></li>
                
                
                    <li><a href="https://www.instagram.com/" class="icon style2 fa-instagram" target="_blank" ><span class="label">Instagram</span></a></li>
                
                
                    <li><a href="https://dribbble.com/" class="icon style2 fa-dribbble" target="_blank" ><span class="label">Dribbble</span></a></li>
                
                
                    <li><a href="https://github.com/klugjo/hexo-theme-phantom/commits?author=klugjo" class="icon style2 fa-github" target="_blank" ><span class="label">GitHub</span></a></li>
                
                
                    <li><a href="https://plus.google.com/" class="icon style2 fa-google-plus" target="_blank" ><span class="label">Google+</span></a></li>
                
                
                    <li><a href="https://www.behance.net/" class="icon style2 fa-behance" target="_blank" ><span class="label">Behance</span></a></li>
                
                
                    <li><a href="https://500px.com/" class="icon style2 fa-500px" target="_blank" ><span class="label">500px</span></a></li>
                
                
                    <li><a href="\#" class="icon style2 fa-envelope-o" target="_blank" ><span class="label">Email</span></a></li>
                
                
                    <li><a href="\#" class="icon style2 fa-rss" target="_blank" ><span class="label">RSS</span></a></li>
                
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; Untitled. All rights reserved</li>
            <li>Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a></li>
            <li>Hexo: <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    
<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- skel -->

<script src="/js/skel.min.js"></script>


<!-- Custom Code -->

<script src="/js/util.js"></script>


<!--[if lte IE 8]>

<script src="/js/ie/respond.min.js"></script>

<![endif]-->

<!-- Custom Code -->

<script src="/js/main.js"></script>


<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'klugjo';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>