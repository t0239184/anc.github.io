<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Arch Linux Note | ANCS</title>
  <meta name="keywords" content=" Arch Linux ">
  <meta name="description" content="Arch Linux Note | ANCS">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Record my idea and technical note space.">
<meta property="og:type" content="website">
<meta property="og:title" content="ANCS">
<meta property="og:url" content="http://t0239184.github.io/tags/index.html">
<meta property="og:site_name" content="ANCS">
<meta property="og:description" content="Record my idea and technical note space.">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2021-06-27T06:08:33.186Z">
<meta property="article:modified_time" content="2021-06-27T06:08:33.186Z">
<meta property="article:author" content="Alan Chen">
<meta property="article:tag" content="Technical">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Alan Chen</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/t0239184"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(21)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="BackEnd">
                        
                        BackEnd
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Database">
                        
                        Database
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="FrontEnd">
                        
                        FrontEnd
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Node">
                        
                        Node
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Regex">
                        
                        Regex
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Server">
                        
                        Server
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Unix like">
                        
                        Unix like
                        <small>(6)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Unix Like">
                        
                        Unix Like
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Unix-like">
                        
                        Unix-like
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="21">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="Searchshortcut:i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="Structureshortcut:w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="return"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="Case Sensitive"></i>
            <i class="iconfont icon-tag" data-title="Tag"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">Structure</div>
            <i class="iconfont icon-list" data-title="Switch to post list"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Access-Control-Allow-Origin</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AJAX</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Arch Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Browser</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Header</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HomeBrew</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Mac</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MacOS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Node</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nohup</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Proxy</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Regex</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Response</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Same Origin Policy</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Server</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Service</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Sublime</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Tomcat</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue.js</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="全部文章 Node "
           href="/2021/06/27/nodejs/how-to-choose-node-server-lib/"
           data-tag="Node,Server"
           data-author="" >
            <span class="post-title" title="Nodejs架設Server方法差異">Nodejs架設Server方法差異</span>
            <span class="post-date" title="2021-06-27 13:06:00">2021/06/27</span>
        </a>
        
        <a  class="全部文章 Regex "
           href="/2021/06/26/regex/common-regex-pattern/"
           data-tag="Regex"
           data-author="" >
            <span class="post-title" title="常用Regex Pattern">常用Regex Pattern</span>
            <span class="post-date" title="2021-06-26 20:48:48">2021/06/26</span>
        </a>
        
        <a  class="全部文章 FrontEnd "
           href="/2021/06/26/hexo/hexo-init/"
           data-tag="Hexo"
           data-author="" >
            <span class="post-title" title="Hexo使用教學">Hexo使用教學</span>
            <span class="post-date" title="2021-06-26 20:19:10">2021/06/26</span>
        </a>
        
        <a  class="全部文章 BackEnd "
           href="/2019/04/27/compiler-run-java-in-sublime/"
           data-tag="Java,Sublime"
           data-author="" >
            <span class="post-title" title="Compiler &amp; Run Java in Sublime">Compiler &amp; Run Java in Sublime</span>
            <span class="post-date" title="2019-04-27 23:22:53">2019/04/27</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/25/nohup/"
           data-tag="Linux,nohup"
           data-author="" >
            <span class="post-title" title="nohup">nohup</span>
            <span class="post-date" title="2019-04-25 16:46:01">2019/04/25</span>
        </a>
        
        <a  class="全部文章 "
           href="/2019/04/25/react-note/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="react-note">react-note</span>
            <span class="post-date" title="2019-04-25 10:50:12">2019/04/25</span>
        </a>
        
        <a  class="全部文章 BackEnd "
           href="/2019/04/25/tomcat-enviroment/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat Enviroment">Tomcat Enviroment</span>
            <span class="post-date" title="2019-04-25 02:11:46">2019/04/25</span>
        </a>
        
        <a  class="全部文章 FrontEnd "
           href="/2019/04/24/vuejs/"
           data-tag="JavaScript,Vue.js"
           data-author="" >
            <span class="post-title" title="Vue.js">Vue.js</span>
            <span class="post-date" title="2019-04-24 13:21:51">2019/04/24</span>
        </a>
        
        <a  class="全部文章 FrontEnd "
           href="/2019/04/24/same-origin-policy/"
           data-tag="Browser,Response,Header,Same Origin Policy,Access-Control-Allow-Origin"
           data-author="" >
            <span class="post-title" title="Same Origin Policy 同源政策">Same Origin Policy 同源政策</span>
            <span class="post-date" title="2019-04-24 13:13:05">2019/04/24</span>
        </a>
        
        <a  class="全部文章 FrontEnd "
           href="/2019/04/24/ajax/"
           data-tag="JavaScript,AJAX"
           data-author="" >
            <span class="post-title" title="AJAX">AJAX</span>
            <span class="post-date" title="2019-04-24 13:00:45">2019/04/24</span>
        </a>
        
        <a  class="全部文章 FrontEnd "
           href="/2019/04/24/javascript-ajax-function/"
           data-tag="JavaScript,AJAX"
           data-author="" >
            <span class="post-title" title="JavaScript AJAX Function">JavaScript AJAX Function</span>
            <span class="post-date" title="2019-04-24 12:42:44">2019/04/24</span>
        </a>
        
        <a  class="全部文章 Server "
           href="/2019/04/23/nginx/"
           data-tag="Proxy,Nginx"
           data-author="" >
            <span class="post-title" title="Nginx">Nginx</span>
            <span class="post-date" title="2019-04-23 16:48:50">2019/04/23</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/23/arch-linux-note/"
           data-tag="Arch Linux"
           data-author="" >
            <span class="post-title" title="Arch Linux Note">Arch Linux Note</span>
            <span class="post-date" title="2019-04-23 15:11:37">2019/04/23</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/23/homebrew-loaderror/"
           data-tag="HomeBrew,MacOS"
           data-author="" >
            <span class="post-title" title="Homebrew Load Error">Homebrew Load Error</span>
            <span class="post-date" title="2019-04-23 12:09:23">2019/04/23</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/22/brew-service/"
           data-tag="Mac,HomeBrew,Service"
           data-author="" >
            <span class="post-title" title="Brew Service">Brew Service</span>
            <span class="post-date" title="2019-04-22 12:08:58">2019/04/22</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/22/docker-file/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="Dockerfile">Dockerfile</span>
            <span class="post-date" title="2019-04-22 11:29:28">2019/04/22</span>
        </a>
        
        <a  class="全部文章 Unix like "
           href="/2019/04/22/docker-volume/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="Docker Volume">Docker Volume</span>
            <span class="post-date" title="2019-04-22 11:16:26">2019/04/22</span>
        </a>
        
        <a  class="全部文章 Unix-like "
           href="/2019/04/22/docker-basic/"
           data-tag="Docker,Linux"
           data-author="" >
            <span class="post-title" title="Docker Basic">Docker Basic</span>
            <span class="post-date" title="2019-04-22 09:53:27">2019/04/22</span>
        </a>
        
        <a  class="全部文章 Database "
           href="/2019/04/22/mysql-basic/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="Mysql config &amp; basic syntax">Mysql config &amp; basic syntax</span>
            <span class="post-date" title="2019-04-22 06:46:50">2019/04/22</span>
        </a>
        
        <a  class="全部文章 BackEnd "
           href="/2019/04/21/springboot-start-option/"
           data-tag="Java,Tomcat,SpringBoot,Maven"
           data-author="" >
            <span class="post-title" title="Springboot Start Option">Springboot Start Option</span>
            <span class="post-date" title="2019-04-21 05:55:47">2019/04/21</span>
        </a>
        
        <a  class="全部文章 Unix Like "
           href="/2019/04/20/mac-enviroment/"
           data-tag="Mac,HomeBrew"
           data-author="" >
            <span class="post-title" title="Mac Enviroment">Mac Enviroment</span>
            <span class="post-date" title="2019-04-20 02:01:50">2019/04/20</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-arch-linux-note" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Arch Linux Note</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Unix like">Unix like</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">Arch Linux</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2021-06-26 20:15:14'>2019-04-23 15:11</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-Image-for-USB"><span class="toc-text">Create Image for USB</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for-Mac"><span class="toc-text">[for Mac]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Live-USB"><span class="toc-text">[Live USB]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Arch-from-USB"><span class="toc-text">Install Arch from USB</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for-ASUS"><span class="toc-text">[for ASUS]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arch-Grub-Welcome-page"><span class="toc-text">[Arch Grub Welcome page]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Check-boot-mode"><span class="toc-text">[Check boot mode]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Format-Disk"><span class="toc-text">Format Disk</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E7%A2%9F%E5%88%86%E5%89%B2"><span class="toc-text">[硬碟分割]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%86%E5%89%B2%E5%8D%80"><span class="toc-text">[初始化分割區]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%9B%E8%BC%89%E5%88%86%E5%89%B2%E5%8D%80"><span class="toc-text">[掛載分割區]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NetWork"><span class="toc-text">NetWork</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Wireless"><span class="toc-text">[Wireless]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Wireless2"><span class="toc-text">[Wireless2]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ethnet"><span class="toc-text">[Ethnet]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#USB-Network"><span class="toc-text">[USB-Network]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pacman-Config"><span class="toc-text">Pacman Config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pacman-Mirrorlist-config-setting"><span class="toc-text">[Pacman Mirrorlist config setting]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pacman-config-setting"><span class="toc-text">[Pacman config setting]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Download-and-Install-base-system"><span class="toc-text">Download and Install base system</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Update-pacman-repostory"><span class="toc-text">[Update pacman repostory]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-packages"><span class="toc-text">[Install packages]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#System-config-setting"><span class="toc-text">[System config setting]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Language"><span class="toc-text">[Language]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Date-and-Time"><span class="toc-text">[Date and Time]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Computer-name"><span class="toc-text">[Computer name]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Auto-Service-controller-%EF%BC%88systemctl%EF%BC%89"><span class="toc-text">[Auto Service controller]（systemctl）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E9%96%8B%E6%A9%9F%E6%98%A0%E5%83%8F"><span class="toc-text">[建立開機映像]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GRUB"><span class="toc-text">[GRUB]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rEFind"><span class="toc-text">[rEFind]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-User"><span class="toc-text">[Create User]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GUI-Desktop-Categories"><span class="toc-text">GUI-Desktop Categories</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-GUI-Desktop-Gnome"><span class="toc-text">[Install GUI Desktop-Gnome]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Gnome-extra"><span class="toc-text">[Gnome-extra]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Desktop-Manager"><span class="toc-text">[Install Desktop Manager]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Automatically-Open"><span class="toc-text">[Automatically Open]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Manually-Open"><span class="toc-text">[Manually Open]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%9D%E5%AE%8C%E7%B3%BB%E7%B5%B1%E5%BE%8C%E5%85%B6%E9%A4%98%E8%A8%AD%E5%AE%9A"><span class="toc-text">安裝完系統後其餘設定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Init-Home-folder"><span class="toc-text">[Init Home folder]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Oh-My-Zsh"><span class="toc-text">[Oh My Zsh]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-Clone-Setting"><span class="toc-text">[Git Clone Setting]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YAOURT-PackageManager"><span class="toc-text">[YAOURT-PackageManager]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Terminal"><span class="toc-text">[Terminal]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileSystem-Support"><span class="toc-text">[FileSystem Support]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnome-Theme"><span class="toc-text">[Gnome-Theme]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnome-Shell-Theme"><span class="toc-text">[Gnome-Shell-Theme]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnome-extend-from-yaourt"><span class="toc-text">[Gnome-extend from yaourt]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnome-extend-from-gnome-store"><span class="toc-text">[Gnome-extend from gnome-store]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Font"><span class="toc-text">[Font]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputMethod"><span class="toc-text">[InputMethod]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputMethod-1"><span class="toc-text">[InputMethod]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-preview"><span class="toc-text">[Space preview]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Office"><span class="toc-text">[Office]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Enable-audio"><span class="toc-text">[Enable audio]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Music-Player"><span class="toc-text">[Music-Player]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Video-Player"><span class="toc-text">[Video-Player]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Youtube-Download-tool"><span class="toc-text">[Youtube Download tool]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Terminal-Screen-split"><span class="toc-text">[Terminal Screen split]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%A3%E6%8E%A7%E7%B6%B2%E8%B7%AF%E6%B5%81%E9%87%8F"><span class="toc-text">[監控網路流量]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Develop-Enviroment"><span class="toc-text">Develop Enviroment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java"><span class="toc-text">[Java]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Change-JDK-Version"><span class="toc-text">[Change JDK Version]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Maven"><span class="toc-text">[Maven]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JetBrain"><span class="toc-text">[JetBrain]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jRebel-Crack"><span class="toc-text">jRebel Crack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Don%E2%80%99t-close-terminal"><span class="toc-text">Don’t close terminal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DataGrip"><span class="toc-text">[DataGrip]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JetBrain-Creck"><span class="toc-text">[JetBrain Creck]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Graphy-Card"><span class="toc-text">Graphy Card</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Arch-Disable-Nvidia"><span class="toc-text">[Arch Disable Nvidia]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Touchpad-config"><span class="toc-text">[Touchpad config]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TouchPad-multiple-config"><span class="toc-text">[TouchPad multiple config]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Show-System-temp"><span class="toc-text">[Show System temp]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Quick-lancer"><span class="toc-text">[Quick lancer]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-Windows-exe-file"><span class="toc-text">[Run Windows exe file]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#System-Setting"><span class="toc-text">System Setting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SATA-enable-AHCI-mode"><span class="toc-text">[SATA enable AHCI mode]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Power-Manager"><span class="toc-text">[Power-Manager]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GitHub"><span class="toc-text">[GitHub]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-GUI"><span class="toc-text">[Git GUI]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FireFox-plugin"><span class="toc-text">[FireFox plugin]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arch-use-bbswitch%E5%BD%BB%E5%BA%95%E7%A6%81%E7%94%A8%E5%8F%8C%E6%98%BE%E5%8D%A1%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%9A%84%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1"><span class="toc-text">[Arch use bbswitch彻底禁用双显卡笔记本的独立显卡]</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ERROR-MESSAGE"><span class="toc-text">ERROR MESSAGE</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>這篇是之前想學Linux的時候所寫的筆記，想說裝一個乾淨什麼都沒有，得靠我自己的手一步步裝好的系統，當然這是折騰人的開始，但也因為有這樣裝過，才開始比較了解Linux，但還是有很多東西需要深入就是了，話說，Linux其實蠻好玩的，Arch也挺符合我這種充滿好奇心的人，可以嚐鮮。</p>
<span id="more"></span>
<h2 id="Create-Image-for-USB"><a href="#Create-Image-for-USB" class="headerlink" title="Create Image for USB"></a>Create Image for USB</h2><h3 id="for-Mac"><a href="#for-Mac" class="headerlink" title="[for Mac]"></a>[for Mac]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ diskUtil list                    &#x2F;&#x2F;列出所有的磁碟
$ diskUtil unmountDisk [usbDisk]   &#x2F;&#x2F;卸載磁碟</code></pre>
<h3 id="Live-USB"><a href="#Live-USB" class="headerlink" title="[Live USB]"></a>[Live USB]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ dd bs&#x3D;4m if&#x3D;[isoFile] for&#x3D;[usbDisk]</code></pre>

<h2 id="Install-Arch-from-USB"><a href="#Install-Arch-from-USB" class="headerlink" title="Install Arch from USB"></a>Install Arch from USB</h2><h3 id="for-ASUS"><a href="#for-ASUS" class="headerlink" title="[for ASUS]"></a>[for ASUS]</h3><p>Reboot &gt; F2 &gt; EFI &gt; Boot &gt; first USB &gt; Save and Exit</p>
<h3 id="Arch-Grub-Welcome-page"><a href="#Arch-Grub-Welcome-page" class="headerlink" title="[Arch Grub Welcome page]"></a>[Arch Grub Welcome page]</h3><p>hit ‘e’ on ‘Arch install’ add ‘pci=nomsi’ and ‘modprobe.blacklist=nouveau’</p>
<h3 id="Check-boot-mode"><a href="#Check-boot-mode" class="headerlink" title="[Check boot mode]"></a>[Check boot mode]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">efivar -l         &#x2F;&#x2F;如果為錯誤訊息則為BIOS啟動非EFI</code></pre>

<h2 id="Format-Disk"><a href="#Format-Disk" class="headerlink" title="Format Disk"></a>Format Disk</h2><h3 id="硬碟分割"><a href="#硬碟分割" class="headerlink" title="[硬碟分割]"></a>[硬碟分割]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ lsblk           &#x2F;&#x2F;檢查目前硬碟分割情況
$ cgdisk &#x2F;dev&#x2F;sda &#x2F;&#x2F;GPT分割表用cgdisk分割
    
BOOT:200M   -&gt; sda2 ef00
SWAP:24G    -&gt; sda3 8200 Linux swap
ROOT:50G    -&gt; sda4 8304 Linux x86-64 root
OPT :15G    -&gt; sda5 8300 Linux file system
TMP :1G     -&gt; sda6 8300 Linux file system
USR :50G    -&gt; sda7 8300 Linux file system
VAR :15G    -&gt; sda8 8300 Linux file system
HOME:512G   -&gt; sda9 8302 Linux &#x2F;home
    
USR : Unix-Software-Resouse
TMP : Template
VAR : Varible

$ lsblk           &#x2F;&#x2F;檢查目前硬碟分割情況</code></pre>
<h3 id="初始化分割區"><a href="#初始化分割區" class="headerlink" title="[初始化分割區]"></a>[初始化分割區]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ mkfs.vfat -F32 &#x2F;dev&#x2F;sda2  &#x2F;&#x2F;EFI
$ mkswap &#x2F;dev&#x2F;sda3          &#x2F;&#x2F;SWAP

$ mkfs.ext4 &#x2F;dev&#x2F;sda4
$ mkfs.ext4 &#x2F;dev&#x2F;sda5
$ mkfs.ext4 &#x2F;dev&#x2F;sda6
$ mkfs.ext4 &#x2F;dev&#x2F;sda7
$ mkfs.ext4 &#x2F;dev&#x2F;sda8
$ mkfs.ext4 &#x2F;dev&#x2F;sda9</code></pre>
<h3 id="掛載分割區"><a href="#掛載分割區" class="headerlink" title="[掛載分割區]"></a>[掛載分割區]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ mkdir &#x2F;mnt&#x2F;home &#x2F;mnt&#x2F;boot&#x2F; &#x2F;mnt&#x2F;boot&#x2F;efi
$ mount &#x2F;dev&#x2F;sda4 &#x2F;mnt                                &#x2F;&#x2F;掛載ROOT至&#x2F;mnt
$ mount &#x2F;dev&#x2F;sda9 &#x2F;mnt&#x2F;home                           &#x2F;&#x2F;掛載HOME至&#x2F;mnt&#x2F;home
$ mount &#x2F;dev&#x2F;sda2 &#x2F;mnt&#x2F;boot&#x2F;efi                       &#x2F;&#x2F;(EFI)掛載BOOT至&#x2F;mnt&#x2F;boot&#x2F;efi
$ mount &#x2F;dev&#x2F;sda2 &#x2F;mnt&#x2F;boot                           &#x2F;&#x2F;(BIOS)掛載BOOT至&#x2F;mnt&#x2F;boot&#x2F;
$ swapon &#x2F;dev&#x2F;sda3                                    &#x2F;&#x2F;啟用SWAP</code></pre>

<h2 id="NetWork"><a href="#NetWork" class="headerlink" title="NetWork"></a>NetWork</h2><h3 id="Wireless"><a href="#Wireless" class="headerlink" title="[Wireless]"></a>[Wireless]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ wifi-menu</code></pre>
<h3 id="Wireless2"><a href="#Wireless2" class="headerlink" title="[Wireless2]"></a>[Wireless2]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ ip link                                             &#x2F;&#x2F;顯示網路介面
$ ip link set [interface] up                          &#x2F;&#x2F;啟用介面
$ iw [interface] link                                 &#x2F;&#x2F;確認無線裝置連線狀態
$ iw [interface] scan | grep SSID                     &#x2F;&#x2F;掃描WIFI訊號，只顯示SSID
$ wpa_passphrase [WIFI-SSID] &gt;&gt; &#x2F;tmp&#x2F;wifi.conf        &#x2F;&#x2F;連線到WPA&#x2F;WPA2加密的無線網路，會等待使用者輸入密碼
$ cat &#x2F;tmp&#x2F;wifi.conf                                  &#x2F;&#x2F;印出上面產生的檔案內容
$ wpa_supplicant -B -i [interface] -c &#x2F;tmp&#x2F;wifi.conf  &#x2F;&#x2F;連線
$ iw [interface] link                                 &#x2F;&#x2F;確認無線裝置連線狀態
$ dhclient wlan0                                      &#x2F;&#x2F;要求DHCP伺服器配發動態IP
$ ping -c 3 8.8.8.8                                   &#x2F;&#x2F;測試連線</code></pre>
<h3 id="Ethnet"><a href="#Ethnet" class="headerlink" title="[Ethnet]"></a>[Ethnet]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ ip link set [interface] up                          &#x2F;&#x2F;啟用介面
$ dhcpcd [interface]                                  &#x2F;&#x2F;要求DHCP伺服器配發動態IP</code></pre>
<h3 id="USB-Network"><a href="#USB-Network" class="headerlink" title="[USB-Network]"></a>[USB-Network]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ ip link set [interface] up
$ dhcpcd [interface]</code></pre>
<h2 id="Pacman-Config"><a href="#Pacman-Config" class="headerlink" title="Pacman Config"></a>Pacman Config</h2><h3 id="Pacman-Mirrorlist-config-setting"><a href="#Pacman-Mirrorlist-config-setting" class="headerlink" title="[Pacman Mirrorlist config setting]"></a>[Pacman Mirrorlist config setting]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ cd &#x2F;etc&#x2F;pacman.d&#x2F;
$ cp mirrorlist mirrorlist.backup                     &#x2F;&#x2F;備份鏡像清單
$ rankmirrors -n 6 mirrorlist.backup &gt; mirrorlist    &#x2F;&#x2F;讓系統測試鏡像速度，按速度排序鏡像，此步驟需要一些時間</code></pre>
<h3 id="Pacman-config-setting"><a href="#Pacman-config-setting" class="headerlink" title="[Pacman config setting]"></a>[Pacman config setting]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ cp &#x2F;etc&#x2F;pacman.conf &#x2F;etc&#x2F;pacman.conf.backup        &#x2F;&#x2F;備份設定檔
$ sed -id &#39;s&#x2F;#Color&#x2F;Color&#x2F;g&#39; &#x2F;etc&#x2F;pacman.conf        &#x2F;&#x2F;開啟色彩
$ echo -e &quot;[archlinuxfr]\nSigLevel &#x3D; Never\nServer &#x3D; http:&#x2F;&#x2F;repo.archlinux.fr&#x2F;$arch&quot; &gt;&gt; &#x2F;etc&#x2F;pacman.conf  &#x2F;&#x2F;&#x2F;&#x2F;Pacman新增Reporsitory</code></pre>

<h2 id="Download-and-Install-base-system"><a href="#Download-and-Install-base-system" class="headerlink" title="Download and Install base system"></a>Download and Install base system</h2><h3 id="Update-pacman-repostory"><a href="#Update-pacman-repostory" class="headerlink" title="[Update pacman repostory]"></a>[Update pacman repostory]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacman -Syy</code></pre>
<h3 id="Install-packages"><a href="#Install-packages" class="headerlink" title="[Install packages]"></a>[Install packages]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacstrap &#x2F;mnt base base-devel
$ pacstrap &#x2F;mnt intel-ucode
$ pacstrap &#x2F;mnt zsh gvim rsync htop wget git openssh networkmanager dialog iw dhclient wpa_supplicant
$ pacstrap &#x2F;mnt pythod yaourt noto-fonts noto-fonts-cjk</code></pre>
<h3 id="System-config-setting"><a href="#System-config-setting" class="headerlink" title="[System config setting]"></a>[System config setting]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ genfstab -U &#x2F;mnt | sed -e &#39;s&#x2F;relatime&#x2F;noatime&#x2F;g&#39; &gt;&gt; &#x2F;mnt&#x2F;etc&#x2F;fstab   &#x2F;&#x2F;開機時的設定檔，開機時會依這個檔案的內容掛載檔案系統。
$ blkid                                                                &#x2F;&#x2F;顯示各磁碟資訊
$ vim &#x2F;mnt&#x2F;etc&#x2F;fstab                                                   &#x2F;&#x2F;確認UUID是否正確（和 blkid 比對）
&#96;&#96;&#96;sh

### [Into System]
&#96;&#96;&#96;sh
$ arch-chroot &#x2F;mnt &#x2F;bin&#x2F;bash</code></pre>
<h3 id="Language"><a href="#Language" class="headerlink" title="[Language]"></a>[Language]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sed -i -e &#39;s&#x2F;^#\(en_US\|zh_TW\)\(\.UTF-8\)&#x2F;\1\2&#x2F;g&#39; &#x2F;etc&#x2F;locale.gen     &#x2F;&#x2F;en_US.UTF-8 和 zh_TW.UTF-8 的註解拿掉
$ locale-gen
$ echo &quot;LANG&#x3D;en_US.UTF-8&quot; &gt; &#x2F;etc&#x2F;locale.conf</code></pre>

<h3 id="Date-and-Time"><a href="#Date-and-Time" class="headerlink" title="[Date and Time]"></a>[Date and Time]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ export TIMEZONE&#x3D;Asia&#x2F;Taipei
$ ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;$&#123;TIMEZONE&#125; &#x2F;etc&#x2F;localtime
$ hwclock --systohc
$ systemctl enable systemd-timesyncd</code></pre>

<h3 id="Computer-name"><a href="#Computer-name" class="headerlink" title="[Computer name]"></a>[Computer name]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ export HOSTNAME&#x3D;&lt;hostname&gt;
$ echo $HOSTNAME &gt; &#x2F;etc&#x2F;hostname
$ sed -ie &quot;8i 127.0.1.1\t$HOSTNAME.localdomain\t$HOSTNAME&quot; &#x2F;etc&#x2F;hosts</code></pre>
<h3 id="Auto-Service-controller-（systemctl）"><a href="#Auto-Service-controller-（systemctl）" class="headerlink" title="[Auto Service controller]（systemctl）"></a>[Auto Service controller]（systemctl）</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ systemctl enable fstrim.timer                                         &#x2F;&#x2F;有SSD才需要，啟用每週執行 fstrim
$ systemctl enable dhcpcd                                               &#x2F;&#x2F;啟動dhcp網路
$ systemctl enable NetworkManager
$ systemctl start NetworkManager</code></pre>
<h3 id="建立開機映像"><a href="#建立開機映像" class="headerlink" title="[建立開機映像]"></a>[建立開機映像]</h3><p>Creates an initial ramdisk environment for booting the linux kernel</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ vim &#x2F;etc&#x2F;mkinitcpio.conf                                              &#x2F;&#x2F;(optional) 看有沒有要修改
$ mkinitcpio -p linux</code></pre>

<p>以下有常用的開機模式為GRUB和rEFind</p>
<h3 id="GRUB"><a href="#GRUB" class="headerlink" title="[GRUB]"></a>[GRUB]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacman -S grub os-prober efibootmgr
$ grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot&#x2F;efi --bootloader-id&#x3D;arch --recheck
$ grub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg                                  &#x2F;&#x2F;建立grub開機設定檔</code></pre>

<h3 id="rEFind"><a href="#rEFind" class="headerlink" title="[rEFind]"></a>[rEFind]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacman -S refind-efi
$ refind-install
$ blkid | grep ROOT                                                       &#x2F;&#x2F;將UUID記錄下來
$ vim &#x2F;boot&#x2F;refind_linux.conf                                             &#x2F;&#x2F;設定配置文件&#x2F;boot&#x2F;refind_linux.conf内核参数
refind_linux.conf

&quot;Boot with standard options&quot;  &quot;root&#x3D;UUID&#x3D;&lt;your uuid of root partition&gt; rw quiet acpi_rev_override&#x3D;1 initrd&#x3D;&#x2F;boot&#x2F;initramfs-linux.img initrd&#x3D;&#x2F;boot&#x2F;intel-ucode.img enable_psr&#x3D;1 disable_power_well&#x3D;0 nvme_core.default_ps_max_latency_us&#x3D;130000&quot;
&quot;Boot to single-user mode&quot;    &quot;root&#x3D;UUID&#x3D;&lt;your uuid of root partition&gt; rw quiet acpi_rev_override&#x3D;1 single&quot;
&quot;Boot with minimal options&quot;   &quot;ro root&#x3D;&#x2F;dev&#x2F;&lt;your root partition name&gt;&quot;</code></pre>

<h3 id="Create-User"><a href="#Create-User" class="headerlink" title="[Create User]"></a>[Create User]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sed -ie &#39;s&#x2F;# \(%wheel ALL&#x3D;(ALL) ALL\)&#x2F;\1&#x2F;&#39; &#x2F;etc&#x2F;sudoers
$ export USERNAME&#x3D;&lt;username&gt;
$ useradd -mG wheel,storage,power,video,audio $USERNAME &#x2F;&#x2F;加上 -m 參數才會建立使用者家目錄以及 .bash 相關檔案
$ passwd $USERNAME # 設定密碼
$ exit
$ umount -R &#x2F;mnt
$ reboot</code></pre>

<p>雙系統直接進windows的話，請在windows下使用easyuefi禁用windows boot manager</p>
<h3 id="GUI-Desktop-Categories"><a href="#GUI-Desktop-Categories" class="headerlink" title="GUI-Desktop Categories"></a>GUI-Desktop Categories</h3><ul>
<li>Gnome</li>
<li>KDE</li>
<li>XFCE</li>
<li>…</li>
</ul>
<h2 id="Install-GUI-Desktop-Gnome"><a href="#Install-GUI-Desktop-Gnome" class="headerlink" title="[Install GUI Desktop-Gnome]"></a>[Install GUI Desktop-Gnome]</h2><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S gnome</code></pre>

<h4 id="Gnome-extra"><a href="#Gnome-extra" class="headerlink" title="[Gnome-extra]"></a>[Gnome-extra]</h4><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S atomix dconf-editor devhelp gnome-nettool gnome-weather gnome-builder gnome-chess gnome-usage gnome-tweaks gnome-recipes quadrapassel sysprof vinagre
$ sudo pacman -Rsc epiphany gdm gedit gnome-documents gnome-music gnome-screenshot gnome-terminal sushi


$ sudo pacman -S xorg-xinit xorg-server xorg-xclock xterm xorg-twm
$ sudo vim &#x2F;etc&#x2F;X11&#x2F;xinit&#x2F;xinitrc</code></pre>
<pre class="language-sh" data-language="sh"><code class="language-sh"># &#x2F;etc&#x2F;X11&#x2F;xinit&#x2F;xinitrc 
# 註解以下內容

    #twm &amp;
    #xclock -geometry 50x50-1+1 &amp;
    #xterm -geometry 80x50+494+51 &amp;
    #xterm -geometry 80x20+494-0 &amp;
    #exec xterm -geometry 80x66+0+0 -name login
    
    exec gnome-session                                                      &#x2F;&#x2F;如果你使用的是gnome桌面，添加上這行</code></pre>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ cp &#x2F;etc&#x2F;X11&#x2F;xinit&#x2F;xinitrc ~&#x2F;.xinitrc           &#x2F;&#x2F;可以使用別的身份登入，為用户複製一份單獨的配置文件，開啟個別的桌面系統
$ startx</code></pre>

<hr>
<h3 id="Install-Desktop-Manager"><a href="#Install-Desktop-Manager" class="headerlink" title="[Install Desktop Manager]"></a>[Install Desktop Manager]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacman -S gdm
$ sed -ie &#39;s&#x2F;#\(WaylandEnable\)&#x2F;\1&#x2F;&#39; &#x2F;etc&#x2F;gdm&#x2F;custom.conf</code></pre>
<h3 id="Automatically-Open"><a href="#Automatically-Open" class="headerlink" title="[Automatically Open]"></a>[Automatically Open]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ systemctl enable gdm                                                  &#x2F;&#x2F;設定gdm開機自動啟動載入gnome桌面</code></pre>
<h3 id="Manually-Open"><a href="#Manually-Open" class="headerlink" title="[Manually Open]"></a>[Manually Open]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ systemctl start gdm                                                   &#x2F;&#x2F;手動開啟gdm</code></pre>
<hr>
<h2 id="安裝完系統後其餘設定"><a href="#安裝完系統後其餘設定" class="headerlink" title="安裝完系統後其餘設定"></a>安裝完系統後其餘設定</h2><h3 id="Init-Home-folder"><a href="#Init-Home-folder" class="headerlink" title="[Init Home folder]"></a>[Init Home folder]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ LC_ALL&#x3D;C xdg-user-dirs-update                                        &#x2F;&#x2F;Force create english name folder</code></pre>
<h3 id="Oh-My-Zsh"><a href="#Oh-My-Zsh" class="headerlink" title="[Oh My Zsh]"></a>[Oh My Zsh]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sh -c &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;master&#x2F;tools&#x2F;install.sh)&quot;</code></pre>
<h3 id="Git-Clone-Setting"><a href="#Git-Clone-Setting" class="headerlink" title="[Git Clone Setting]"></a>[Git Clone Setting]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ cd ~&#x2F;Documents
$ git clone http:&#x2F;&#x2F;github.com&#x2F;t0239184&#x2F;archLinuxNote.git</code></pre>

<h3 id="YAOURT-PackageManager"><a href="#YAOURT-PackageManager" class="headerlink" title="[YAOURT-PackageManager]"></a>[YAOURT-PackageManager]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S --needed base-devel git wget yajl
$ cd &#x2F;tmp
$ git clone https:&#x2F;&#x2F;aur.archlinux.org&#x2F;package-query.git
$ cd package-query&#x2F;
$ makepkg -si &amp;&amp; cd &#x2F;tmp&#x2F;
$ git clone https:&#x2F;&#x2F;aur.archlinux.org&#x2F;yaourt.git
$ cd yaourt&#x2F;
$ makepkg -si</code></pre>
<h3 id="Terminal"><a href="#Terminal" class="headerlink" title="[Terminal]"></a>[Terminal]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S roxterm</code></pre>
<h3 id="FileSystem-Support"><a href="#FileSystem-Support" class="headerlink" title="[FileSystem Support]"></a>[FileSystem Support]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ pacman -S ntfs-3g dosfstools                                           &#x2F;&#x2F;Support NTFS and Exfat fileSystem
&#96;&#96;&#96;    
### [Change Folder name to Englist]
&#96;&#96;&#96;sh
$ sudo vim .config&#x2F;user-dirs.dirs</code></pre>
<h3 id="Gnome-Theme"><a href="#Gnome-Theme" class="headerlink" title="[Gnome-Theme]"></a>[Gnome-Theme]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S x-arc-darker
$ yaourt -S x-arc-shadow
$ yaourt -S papirus-icon-theme</code></pre>
<h3 id="Gnome-Shell-Theme"><a href="#Gnome-Shell-Theme" class="headerlink" title="[Gnome-Shell-Theme]"></a>[Gnome-Shell-Theme]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S gnome-shell-theme-macos-mojave</code></pre>

<h3 id="Gnome-extend-from-yaourt"><a href="#Gnome-extend-from-yaourt" class="headerlink" title="[Gnome-extend from yaourt]"></a>[Gnome-extend from yaourt]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S gnome-shell-extension-dash-to-dock
$ yaourt -S gnome-shell-extension-arc-menu-git
$ yaourt -S gnome-shell-extension-cpufreq-git</code></pre>

<h3 id="Gnome-extend-from-gnome-store"><a href="#Gnome-extend-from-gnome-store" class="headerlink" title="[Gnome-extend from gnome-store]"></a>[Gnome-extend from gnome-store]</h3><ul>
<li>alternatetab</li>
<li>custom hot corners</li>
<li>extend panel menu</li>
<li>removeable drive menu</li>
<li>user themes</li>
<li>workspace indicator</li>
<li>net speed</li>
</ul>
<h3 id="Font"><a href="#Font" class="headerlink" title="[Font]"></a>[Font]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S ttf-droid              &#x2F;&#x2F;Window Font
$ yaourt -S ttf-ubuntu-font-family  &#x2F;&#x2F;Terminal Font</code></pre>

<h3 id="InputMethod"><a href="#InputMethod" class="headerlink" title="[InputMethod]"></a>[InputMethod]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S gcin
$ vim ~&#x2F;.xinitrc</code></pre>

<pre class="language-sh" data-language="sh"><code class="language-sh"># ~&#x2F;.xinitrc
export LANG&#x3D;&quot;zh_TW.UTF-8&quot;
export LC_CTYPE&#x3D;&quot;zh_TW.UTF-8&quot;
export XMODIFIERS&#x3D;@im&#x3D;gcin
export GTK_IM_MODULE&#x3D;&quot;gcin&quot;
export QT_IM_MODULE&#x3D;&quot;gcin&quot;
gcin &amp;</code></pre>

<h3 id="InputMethod-1"><a href="#InputMethod-1" class="headerlink" title="[InputMethod]"></a>[InputMethod]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S ibus-rime

# ~&#x2F;.xinitrc
export LANG&#x3D;&quot;zh_TW.UTF-8&quot;
export LC_CTYPE&#x3D;&quot;zh_TW.UTF-8&quot;
export XMODIFIERS&#x3D;@im&#x3D;&quot;ibus&quot;
export GTK_IM_MODULE&#x3D;&quot;ibus&quot;
export QT_IM_MODULE&#x3D;&quot;ibus&quot;
ibus &amp;</code></pre>

<h3 id="Space-preview"><a href="#Space-preview" class="headerlink" title="[Space preview]"></a>[Space preview]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S sushi</code></pre>

<h3 id="Office"><a href="#Office" class="headerlink" title="[Office]"></a>[Office]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S wps-office</code></pre>
<h3 id="Enable-audio"><a href="#Enable-audio" class="headerlink" title="[Enable audio]"></a>[Enable audio]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S alsa-utils
$ alsamixer
master hit M</code></pre>
<h3 id="Music-Player"><a href="#Music-Player" class="headerlink" title="[Music-Player]"></a>[Music-Player]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S audacious</code></pre>
<h3 id="Video-Player"><a href="#Video-Player" class="headerlink" title="[Video-Player]"></a>[Video-Player]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S vlc</code></pre>
<h3 id="Youtube-Download-tool"><a href="#Youtube-Download-tool" class="headerlink" title="[Youtube Download tool]"></a>[Youtube Download tool]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S youtube-dl</code></pre>
<h3 id="Terminal-Screen-split"><a href="#Terminal-Screen-split" class="headerlink" title="[Terminal Screen split]"></a>[Terminal Screen split]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S screen</code></pre>
<h3 id="監控網路流量"><a href="#監控網路流量" class="headerlink" title="[監控網路流量]"></a>[監控網路流量]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S iftop</code></pre>
<h2 id="Develop-Enviroment"><a href="#Develop-Enviroment" class="headerlink" title="Develop Enviroment"></a>Develop Enviroment</h2><h3 id="Java"><a href="#Java" class="headerlink" title="[Java]"></a>[Java]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S jdk8-openjdk
$ cd &#x2F;bin &amp;&amp; ll | grep java   &#x2F;&#x2F;Check java folder real path
$ echo export JAVA_HOME&#x3D;\&quot;&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;default-runtime\&quot; &gt;&gt; ~&#x2F;.zshrc
$ echo export PATH&#x3D;\&quot;&#39;$JAVA_HOME&#x2F;bin&#x2F;:$PATH&#39;\&quot;
$ source ~&#x2F;.zshrc</code></pre>
<h3 id="Change-JDK-Version"><a href="#Change-JDK-Version" class="headerlink" title="[Change JDK Version]"></a>[Change JDK Version]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ archlinux-java status

Available Java environments:
  java-10-openjdk
  java-8-openjdk (default)</code></pre>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ archlinux-java get
$ archlinux-java set &lt;JDK version&gt;</code></pre>

<h3 id="Maven"><a href="#Maven" class="headerlink" title="[Maven]"></a>[Maven]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S maven
$ cd &#x2F;bin &amp;&amp; ll | grep mvn   &#x2F;&#x2F;Check maven folder real path
$ echo export MAVEN_HOME&#x3D;\&quot;&#x2F;opt&#x2F;maven\&quot; &gt;&gt; ~&#x2F;.zshrc
$ echo export PATH&#x3D;\&quot;&#39;$MAVEN_HOME&#x2F;bin&#x2F;:$PATH&#39;\&quot;
$ source ~&#x2F;.zshrc</code></pre>

<h3 id="JetBrain"><a href="#JetBrain" class="headerlink" title="[JetBrain]"></a>[JetBrain]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S intellij-idea-ultimate-edition &#x2F;&#x2F;Java ide</code></pre>

<h2 id="jRebel-Crack"><a href="#jRebel-Crack" class="headerlink" title="jRebel Crack"></a>jRebel Crack</h2><p><a target="_blank" rel="noopener" href="https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4">https://github.com/ilanyu/ReverseProxy/releases/tag/v1.4</a></p>
<p>Download:<br>Mac    &gt; ReverseProxy_darwin_amd64<br>Linux  &gt; </p>
<p>1.執行</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ chmod 777 ReverseProxy_darwin_amd64
$ .&#x2F;ReverseProxy_darwin_amd64</code></pre>

<p>2.idea setting<br>Open idea Setting &gt; jRebel  choise Licence option</p>
<p>“<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/xin&quot;">http://127.0.0.1:8080/xin&quot;</a>        //port號後隨意填<br>“<a href="mailto:&#97;&#97;&#97;&#64;&#x61;&#x61;&#97;&#x2e;&#99;&#111;&#x6d;">&#97;&#97;&#97;&#64;&#x61;&#x61;&#97;&#x2e;&#99;&#111;&#x6d;</a>“                      //只要填入合格mail格式即可</p>
<h3 id="Don’t-close-terminal"><a href="#Don’t-close-terminal" class="headerlink" title="Don’t close terminal"></a>Don’t close terminal</h3><p>3.switch work offline<br>如果之後到期後再執行一次整個流程</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8ce60dd452f4">https://www.jianshu.com/p/8ce60dd452f4</a></p>
<h3 id="DataGrip"><a href="#DataGrip" class="headerlink" title="[DataGrip]"></a>[DataGrip]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S datagrip                    &#x2F;&#x2F;DataBase ide</code></pre>

<h3 id="JetBrain-Creck"><a href="#JetBrain-Creck" class="headerlink" title="[JetBrain Creck]"></a>[JetBrain Creck]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">sudo vim &#x2F;etc&#x2F;hosts</code></pre>



<h2 id="Graphy-Card"><a href="#Graphy-Card" class="headerlink" title="Graphy Card"></a>Graphy Card</h2><h3 id="Arch-Disable-Nvidia"><a href="#Arch-Disable-Nvidia" class="headerlink" title="[Arch Disable Nvidia]"></a>[Arch Disable Nvidia]</h3><p>bbswitch can help you to disable Nvidia(PowerOff), First need install bbswitch</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S bbswitch dkms bumblebee
$ sudo echo &quot;bbswitch&quot; &gt;&gt; &#x2F;etc&#x2F;modules-load.d&#x2F;modules.conf                  &#x2F;&#x2F;run bbswitch of system load module
$ sudo echo &quot;options bbswitch load_state&#x3D;0&quot; &gt;&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;bbswitch.conf &#x2F;&#x2F;set disable nouveau option of system load module
$ sudo echo &quot;blacklist nouveau&quot; &gt;&gt; &#x2F;etc&#x2F;modprobe.d&#x2F;nouveau_blacklist.conf    &#x2F;&#x2F;set nouveau to blacklist
$ mkinitcpio -p linux                                                  &#x2F;&#x2F;rebuild initrd
$ reboot
$ lspci | grep NVIDIA            &#x2F;&#x2F;if Nvidia status show (rev ff), is sucesses!!</code></pre>

<h2 id="Touchpad-config"><a href="#Touchpad-config" class="headerlink" title="[Touchpad config]"></a>[Touchpad config]</h2><pre class="language-sh" data-language="sh"><code class="language-sh">$ xinput list                                      &#x2F;&#x2F;show all input drive, and search you touchpad
$ xinput list-props [driveId]                       &#x2F;&#x2F;input your touchpad Id


Device &#39;SynPS&#x2F;2 Synaptics TouchPad&#39;:
      Device Enabled (139):   1
      Coordinate Transformation Matrix (141): 1.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 1.000000
      libinput Tapping Enabled (274): 0
      libinput Tapping Enabled Default (275): 0
      libinput Tapping Drag Enabled (276):    1
      ...</code></pre>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ xinput set-prop 12[driveId] 274[propertiesId] 1[value]
or
$ xinput set-prop --type&#x3D;int --format&#x3D;8 &quot;SynPS&#x2F;2 Synaptics TouchPad&quot; &quot;libinput Tapping Enabled&quot; 1</code></pre>

<h3 id="TouchPad-multiple-config"><a href="#TouchPad-multiple-config" class="headerlink" title="[TouchPad multiple config]"></a>[TouchPad multiple config]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S xf86-input-libinput
$ cp &#x2F;usr&#x2F;share&#x2F;X11&#x2F;xorg.conf.d&#x2F;40-libinput.conf &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;30-touchpad.conf  &#x2F;&#x2F;Setting touchpad, &quot;&#x2F;usr&#x2F;share&quot; is default config, &quot;&#x2F;etc&#x2F;&quot; is user custom config
$ sudo vim &#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;30-touchpad.conf

# 30-touchpad.conf
Section &quot;InputClass&quot;
        Identifier &quot;libinput touchpad catchall&quot;
        MatchIsTouchpad &quot;on&quot;
        MatchDevicePath &quot;&#x2F;dev&#x2F;input&#x2F;event*&quot;
        Driver &quot;libinput&quot;
        Option &quot;Tapping&quot; &quot;on&quot;
        Option &quot;TapButton1&quot; &quot;1&quot;
        Option &quot;TapButton2&quot; &quot;3&quot;
        Option &quot;TapButton3&quot; &quot;2&quot;
        Option &quot;VertEdgeScroll&quot; &quot;on&quot;
        Option &quot;VertTwoFingerScroll&quot; &quot;on&quot;
        Option &quot;HorizEdgeScroll&quot; &quot;on&quot;
        Option &quot;HorizTwoFingerScroll&quot; &quot;on&quot;
        Option &quot;NaturalScrolling&quot; &quot;on&quot;
EndSection</code></pre>
<blockquote>
<p>參考: <a target="_blank" rel="noopener" href="https://itw01.com/MSCQE8K.html">https://itw01.com/MSCQE8K.html</a></p>
</blockquote>
<h3 id="Show-System-temp"><a href="#Show-System-temp" class="headerlink" title="[Show System temp]"></a>[Show System temp]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S psensor</code></pre>


<h3 id="Quick-lancer"><a href="#Quick-lancer" class="headerlink" title="[Quick lancer]"></a>[Quick lancer]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S albert</code></pre>
<h3 id="Run-Windows-exe-file"><a href="#Run-Windows-exe-file" class="headerlink" title="[Run Windows exe file]"></a>[Run Windows exe file]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S wine</code></pre>

<h2 id="System-Setting"><a href="#System-Setting" class="headerlink" title="System Setting"></a>System Setting</h2><h3 id="SATA-enable-AHCI-mode"><a href="#SATA-enable-AHCI-mode" class="headerlink" title="[SATA enable AHCI mode]"></a>[SATA enable AHCI mode]</h3><p>SATA-MODE：IDE(Default) or AHCI<br>now, Linux and Windows supported AHCI<br>Native AHCI mode 提供更好的性能（如热插拔和 NCQ 支持）、模拟的 IDE 模式提供更好的兼容性。</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo vim &#x2F;etc&#x2F;mkinitcpio.conf

# mkinitcpio.conf
MODULES&#x3D;&quot;ahci&quot;


$ mkinitcpio -p linux                             &#x2F;&#x2F;rebuild
$ dmesg                                          &#x2F;&#x2F;if find &#39;AHCI&#39; and &#39;NCQ&#39; then susscess

...
SCSI subsystem initialized
libata version 3.00 loaded.
ahci 0000:00:1f.2: version 3.0
ahci 0000:00:1f.2: irq 24 for MSI&#x2F;MSI-X
ahci 0000:00:1f.2: AHCI 0001.0300 32 slots 6 ports 6 Gbps 0x10 impl SATA mode
ahci 0000:00:1f.2: flags: 64bit ncq led clo pio slum part ems apst
scsi host0: ahci
scsi host1: ahci
scsi host2: ahci
scsi host3: ahci
scsi host4: ahci
scsi host5: ahci
...
ata5.00: 976773168 sectors, multi 16: LBA48 NCQ (depth 31&#x2F;32), AA
...</code></pre>
<h3 id="Power-Manager"><a href="#Power-Manager" class="headerlink" title="[Power-Manager]"></a>[Power-Manager]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo pacman -S tlp tlp-rdw
$ sudo vim &#x2F;etc&#x2F;default&#x2F;tlp       &#x2F;&#x2F;custom your setting
$ sudo tlp stat
$ sudo systemctl enable tlp.service</code></pre>


<h3 id="GitHub"><a href="#GitHub" class="headerlink" title="[GitHub]"></a>[GitHub]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ git config --global user.name &quot;username&quot;
$ git config --global user.email &quot;username@example.com&quot;
$ sudo pacman -S openssh
$ ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;      &#x2F;&#x2F;General SSH key
$ ssh-agent -s                                           &#x2F;&#x2F;Check ssh-agent can run
$ ssh-add ~&#x2F;.ssh&#x2F;id_rsa                                   &#x2F;&#x2F;Add SSH key：
1.Copy ~&#x2F;.ssh&#x2F;id_rsa.pub Text
2.GitHub &gt; Settings &gt; Personal settings &gt; SSH Keys &gt; Add key &gt; Paste key</code></pre>

<h3 id="Git-GUI"><a href="#Git-GUI" class="headerlink" title="[Git GUI]"></a>[Git GUI]</h3><pre class="language-sh" data-language="sh"><code class="language-sh">$ yaourt -S smartgit
$ yaourt -S gitkaraken</code></pre>

<h3 id="FireFox-plugin"><a href="#FireFox-plugin" class="headerlink" title="[FireFox plugin]"></a>[FireFox plugin]</h3><ul>
<li>Vimium                     //vim key Mapping</li>
<li>Tree Style Tab             //vertical tab manager</li>
<li>Video Download Helper      //video download</li>
<li>Adblock plus               //anywhere block ad</li>
</ul>
<h3 id="Arch-use-bbswitch彻底禁用双显卡笔记本的独立显卡"><a href="#Arch-use-bbswitch彻底禁用双显卡笔记本的独立显卡" class="headerlink" title="[Arch use bbswitch彻底禁用双显卡笔记本的独立显卡]"></a>[Arch use bbswitch彻底禁用双显卡笔记本的独立显卡]</h3><blockquote>
<p>參考:  <a target="_blank" rel="noopener" href="https://xuchen.wang/archives/archbbswitch.html">https://xuchen.wang/archives/archbbswitch.html</a></p>
</blockquote>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ modprobe bbswitch
$ rmmod bbswitch  &#x2F;&#x2F;bbswitch模块卸载
$ cat &#x2F;proc&#x2F;acpi&#x2F;bbswitch &#x2F;&#x2F;查看其独立显卡运行状态。
$ tee &#x2F;proc&#x2F;acpi&#x2F;bbswitch \&lt;\&lt;\&lt;\ OFF &#x2F;&#x2F;关闭&#x2F;开启独立显卡的指令为
$ tee &#x2F;proc&#x2F;acpi&#x2F;bbswitch \&lt;\&lt;\&lt;\ ON  &#x2F;&#x2F;关闭&#x2F;开启独立显卡的指令为</code></pre>

<p>if exec OFF but status is ON, Maybe Nvidia card not close yet</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ dmesg | tail -1

bbswitch: device 0000:01:00.0 is in use by driver &#39;nouveau&#39;, refusing OFF</code></pre>

<pre class="language-sh" data-language="sh"><code class="language-sh">$ rmmod nouveau                                         &#x2F;&#x2F;驱动nouveau模块卸载</code></pre>
<p>First，bbswitch has two parameter，load_state and unload_state</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ modprobe bbswitch load_state&#x3D;0                         &#x2F;&#x2F;加载时使用
$ echo 1 | tee &#x2F;sys&#x2F;module&#x2F;bbswitch&#x2F;parameters&#x2F;unload_state &#x2F;&#x2F;卸载时使用
$ modprobe bbswitch load_state&#x3D;0 unload_state&#x3D;1
$ sudo touch &#x2F;etc&#x2F;modprobe.d&#x2F;bbswitch.conf &amp;&amp; sudo vim &#x2F;etc&#x2F;modprobe.d&#x2F;bbswitch.conf

# &#x2F;etc&#x2F;init&#x2F;bbswitch.conf
description &quot;Save power by disabling nvidia on Optimus&quot;
author &quot;Lekensteyn &lt;lekensteyn@gmail.com&gt;&quot;
start on runlevel [2345]
stop on runlevel [016]
pre-start exec &#x2F;sbin&#x2F;modprobe bbswitch load_state&#x3D;0 unload_state&#x3D;1
pre-stop exec &#x2F;sbin&#x2F;rmmod bbswitch</code></pre>

<p>Arch Linux use ‘systemd’, so we create new service enable Nvidia at before shotdown</p>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo touch &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;poweroff-enable-nvidia.service
$ sudo vim &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;poweroff-enable-nvidia.service

# poweroff-enable-nvidia.service

[Unit]
Description&#x3D;Enable NVIDIA card when poweroff
DefaultDependencies&#x3D;no

[Service]
Type&#x3D;oneshot
ExecStart&#x3D;&#x2F;bin&#x2F;sh -c &#39;echo ON &gt; &#x2F;proc&#x2F;acpi&#x2F;bbswitch&#39;

[Install]
WantedBy&#x3D;shutdown.target</code></pre>

<pre class="language-sh" data-language="sh"><code class="language-sh">$ systemctl enable --now             &#x2F;&#x2F;enable bbswitch service
$ sudo touch &#x2F;etc&#x2F;modules-load.d&#x2F;bbswitch.conf
$ sudo vim &#x2F;etc&#x2F;modules-load.d&#x2F;bbswitch.conf

# &#x2F;etc&#x2F;modules-load.d&#x2F;bbswitch.conf

# Load bbswitch at boot
bbswitch</code></pre>

<pre class="language-sh" data-language="sh"><code class="language-sh">$ sudo touch &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
$ sudo vim &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf

# &#x2F;etc&#x2F;modprobe.d&#x2F;blacklist.conf
blacklist nouveau</code></pre>
<hr>
<h2 id="ERROR-MESSAGE"><a href="#ERROR-MESSAGE" class="headerlink" title="ERROR MESSAGE"></a>ERROR MESSAGE</h2><ul>
<li>裝機案例：ASUS X550V</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：解決lspci timeout error</strong></p>
</li>
<li><p>錯誤訊息：lspci timeout</p>
</li>
<li><p>解決方法：</p>
<blockquote>
<p>Disable Nvidia driver : Choosing arch from the ISO boot menu hit ‘e’ and add ‘modprobe.blacklist=nouveau’ to the kernal parameters</p>
</blockquote>
</li>
<li><p>參考相關：</p>
<blockquote>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://gccpacman.com/2015/11/07/replace-nvidia-driver-with-nouveau-driver-arch-linux">http://gccpacman.com/2015/11/07/replace-nvidia-driver-with-nouveau-driver-arch-linux</a><br><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/">https://wiki.archlinux.org/index.php/</a></p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：pcieport / RTL8821AE錯誤</strong></p>
</li>
<li><p>錯誤訊息：error msg loop</p>
<blockquote>
</blockquote>
<pre class="language-sh" data-language="sh"><code class="language-sh">00:1c.5 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #6 (rev f1) (prog-if 00 [Normal decode])
Flags: bus master, fast devsel, latency 0, IRQ 124
Bus: primary&#x3D;00, secondary&#x3D;03, subordinate&#x3D;03, sec-latency&#x3D;0</code></pre></li>
<li><p>解決方法：Choosing arch from the ISO boot menu hit ‘e’ and add ‘pci=nomsi’ to the kernal parameters</p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>錯誤問題：開機時有出現一行錯誤訊息</strong></p>
</li>
<li><p>錯誤訊息：Failed to start Load Kernel Modules</p>
<blockquote>
</blockquote>
<pre class="language-sh" data-language="sh"><code class="language-sh">$ systemctl status systemd-modules-load.service
...
Failed to find module &#39;option bbswitch load_state&#x3D;0&#39;
...</code></pre>
<blockquote>
</blockquote>
</li>
</ul>

      
       
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©Copyright by Alan Chen
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="FullScreen hotkey s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    #post .pjax article .article-entry>ol, #post .pjax article .article-entry>ul, #post .pjax article>ol, #post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    #post .pjax article .article-entry li>ol, #post .pjax article .article-entry li>ul,#post .pjax article li>ol, #post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    #post .pjax article .article-entry>ol>li, #post .pjax article .article-entry>ul>li,#post .pjax article>ol>li, #post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    #post .pjax article .article-entry li>ol>li, #post .pjax article .article-entry li>ul>li,#post .pjax article li>ol>li, #post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
    #post .pjax article :not(pre) > code {
        color: #24292e;
        font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
        background-color: rgba(27,31,35,.05);
        border-radius: 3px;
        font-size: 85%;
        margin: 0;
        padding: .2em .4em;
    }
    
</style>







</html>
